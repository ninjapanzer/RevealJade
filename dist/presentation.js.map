{"version":3,"sources":["webpack:///webpack/bootstrap d1a5ea15b620d8d73a9c","webpack:///./~/pug-runtime/index.js","webpack:///./index.pug","webpack:///./~/reveal.js/js/reveal.js","webpack:///./shared/footer.pug","webpack:///fs (ignored)","webpack:///./index.js"],"names":["root","factory","define","Reveal","exports","module","VERSION","SLIDES_SELECTOR","HORIZONTAL_SLIDES_SELECTOR","VERTICAL_SLIDES_SELECTOR","HOME_SLIDE_SELECTOR","UA","navigator","userAgent","config","width","height","margin","minScale","maxScale","controls","progress","slideNumber","history","keyboard","keyboardCondition","overview","center","touch","loop","rtl","shuffle","fragments","embedded","help","pause","showNotes","autoSlide","autoSlideStoppable","autoSlideMethod","mouseWheel","rollingLinks","hideAddressBar","previewLinks","postMessage","postMessageEvents","focusBodyOnPageVisibilityChange","transition","transitionSpeed","backgroundTransition","parallaxBackgroundImage","parallaxBackgroundSize","parallaxBackgroundHorizontal","parallaxBackgroundVertical","pdfMaxPagesPerSlide","Number","POSITIVE_INFINITY","viewDistance","dependencies","initialized","loaded","overviewSlideWidth","overviewSlideHeight","indexh","indexv","previousSlide","currentSlide","previousBackground","state","scale","slidesTransform","layout","dom","features","isMobileDevice","isChrome","lastMouseWheelStep","writeURLTimeout","eventsAreBound","autoSlidePlayer","autoSlideTimeout","autoSlideStartTime","autoSlidePaused","startX","startY","startSpan","startCount","captured","threshold","keyboardShortcuts","initialize","options","checkCapabilities","transforms2d","transforms3d","document","body","setAttribute","images","toArray","getElementsByTagName","iframes","lazyLoadable","concat","i","len","length","element","getAttribute","removeAttribute","wrapper","querySelector","slides","window","addEventListener","query","getQueryHash","extend","load","test","testElement","createElement","style","requestAnimationFrameMethod","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","canvas","getContext","overviewTransitions","zoom","scripts","scriptsAsync","scriptsToPreload","proceed","head","js","apply","start","loadScript","s","ready","src","match","callback","condition","async","push","setupDOM","setupPostMessage","setupScrollPrevention","resetVerticalSlides","configure","readURL","updateBackground","setTimeout","classList","remove","add","dispatchEvent","isPrintingPDF","removeEventListeners","readyState","setupPDF","background","createSingletonNode","progressbar","speakerNotes","controlsLeft","querySelectorAll","controlsRight","controlsUp","controlsDown","controlsPrev","controlsNext","statusDiv","createStatusDiv","getElementById","position","overflow","clip","appendChild","getStatusText","node","text","nodeType","textContent","isAriaHidden","isDisplayHidden","getComputedStyle","childNodes","forEach","child","slideSize","getComputedSlideSize","innerWidth","innerHeight","pageWidth","Math","floor","pageHeight","slideWidth","slideHeight","injectStyleSheet","hslide","h","contains","vslide","v","slide","left","top","contentHeight","scrollHeight","numberOfPages","max","ceil","min","page","className","parentNode","insertBefore","slideBackgroundElement","notes","getSlideNotes","notesSpacing","notesLayout","notesElement","innerHTML","nextSibling","bottom","slideNumberH","parseInt","slideNumberV","numberElement","formatSlideNumber","fragment","setInterval","scrollTop","scrollLeft","container","tagname","classname","nodes","testNode","createBackgrounds","printMode","slideh","backgroundStack","createBackground","slidev","backgroundImage","backgroundSize","data","backgroundVideo","backgroundIframe","backgroundColor","backgroundRepeat","backgroundPosition","replace","computedBackgroundStyle","rgb","colorToRgb","a","colorBrightness","event","charAt","JSON","parse","method","args","numberOfSlides","display","resume","onDocumentMouseScroll","removeEventListener","enableRollingLinks","disableRollingLinks","enablePreviewLinks","disablePreviewLinks","destroy","Playback","Date","now","on","onAutoSlidePlayerClick","sync","addEventListeners","onWindowHashChange","onWindowResize","onTouchStart","onTouchMove","onTouchEnd","pointerEnabled","onPointerDown","onPointerMove","onPointerUp","msPointerEnabled","onDocumentKeyDown","onDocumentKeyPress","onProgressClicked","visibilityChange","onPageVisibilityChange","pointerEvents","eventName","el","onNavigateLeftClicked","onNavigateRightClicked","onNavigateUpClicked","onNavigateDownClicked","onNavigatePrevClicked","onNavigateNextClicked","b","o","Array","prototype","slice","call","deserialize","value","parseFloat","distanceBetween","dx","x","dy","y","sqrt","transformElement","transform","WebkitTransform","MozTransform","msTransform","transformSlides","transforms","tag","type","styleSheet","cssText","createTextNode","closestParent","target","selector","parent","matchesMethod","matches","matchesSelector","msMatchesSelector","color","hex3","r","g","hex6","substr","rgba","getRemainingHeight","newHeight","oldHeight","offsetHeight","location","search","removeAddressBar","scrollTo","createEvent","initEvent","self","stringify","namespace","getState","anchors","anchor","span","onPreviewLinkClicked","showPreview","url","closeOverlay","overlay","join","preventDefault","showHelp","html","key","removeChild","size","layoutSlideContents","presentationWidth","presentationHeight","right","updateProgress","updateParallax","remainingHeight","nodeName","nw","naturalWidth","videoWidth","nh","naturalHeight","videoHeight","es","offsetWidth","setPreviousVerticalIndex","stack","getPreviousVerticalIndex","attributeName","hasAttribute","activateOverview","isOverview","cancelAutoSlide","onOverviewSlideClicked","updateSlidesVisibility","layoutOverview","updateOverview","hbackground","vbackground","deactivateOverview","cueAutoSlide","toggleOverview","override","isVerticalSlide","enterFullscreen","documentElement","requestMethod","requestFullscreen","webkitRequestFullscreen","webkitRequestFullScreen","mozRequestFullScreen","msRequestFullscreen","wasPaused","togglePause","isPaused","toggleAutoSlide","resumeAutoSlide","pauseAutoSlide","isAutoSliding","f","horizontalSlides","undefined","stateBefore","indexhBefore","indexvBefore","updateSlides","stateLoop","j","splice","pop","currentHorizontalSlide","currentVerticalSlides","navigateFragment","slideChanged","stopEmbeddedContent","startEmbeddedContent","updateControls","updateSlideNumber","updateNotes","writeURL","sortAllFragments","formatEmbeddedContent","horizontalSlide","verticalSlides","verticalSlide","sortFragments","random","index","slidesLength","reverse","pastFragments","pastFragment","futureFragments","futureFragment","slideState","split","horizontalSlidesLength","distanceX","distanceY","MAX_VALUE","verticalSlidesLength","abs","showSlide","hideSlide","oy","getProgress","format","getSlidePastCount","getTotalSlides","delimiter","isNaN","routes","availableRoutes","availableFragments","up","down","prev","next","includeAll","currentBackground","horizontalPast","horizontalFuture","backgroundh","backgroundv","previousVideo","currentVideo","startVideo","currentTime","play","backgroundImageURL","opacity","previousBackgroundHash","currentBackgroundHash","classToBubble","backgroundWidth","backgroundHeight","horizontalSlideCount","horizontalOffsetMultiplier","horizontalOffset","verticalSlideCount","verticalOffsetMultiplier","verticalOffset","media","sources","source","indices","getIndices","getSlideBackground","backgroundVideoLoop","backgroundVideoMuted","isSpeakerNotes","video","muted","iframe","maxHeight","maxWidth","hiddenFragments","_appendParamToIframeSource","sourceAttribute","sourceURL","param","indexOf","startEmbeddedIframe","contentWindow","pastCount","mainLoop","totalCount","allFragments","visibleFragments","fragmentWeight","hash","bits","name","delay","clearTimeout","id","isVertical","hasFragments","currentFragment","getSlide","horizontalBackground","verticalBackgrounds","indexf","paused","setState","pausedFlag","overviewFlag","ordered","unordered","sorted","group","offset","lastVisibleFragment","fragmentsShown","fragmentsHidden","nextFragment","previousFragment","fragmentAutoSlide","parentAutoSlide","slideAutoSlide","duration","playbackRate","isLastSlide","navigateNext","setPlaying","navigateLeft","navigateRight","navigateUp","navigateDown","navigatePrev","isSwipePrevented","onUserInput","shiftKey","charCode","autoSlideWasPaused","activeElementIsCE","activeElement","contentEditable","activeElementIsInput","tagName","activeElementIsNotes","keyCode","altKey","ctrlKey","metaKey","resumeKeyCodes","triggered","touches","clientX","clientY","currentX","currentY","currentSpan","deltaX","deltaY","pointerType","MSPOINTER_TYPE_TOUCH","delta","detail","wheelDelta","slidesTotal","slideIndex","isHidden","webkitHidden","msHidden","hidden","blur","focus","currentTarget","progressCheck","diameter","diameter2","thickness","playing","progressOffset","context","render","wasPlaying","animate","progressBefore","bind","radius","iconSize","endAngle","PI","startAngle","save","clearRect","beginPath","arc","fillStyle","fill","lineWidth","strokeStyle","stroke","translate","fillRect","moveTo","lineTo","restore","listener","off","prevFragment","navigateTo","getPreviousSlide","getCurrentSlide","getScale","getConfig","shift","unescape","isFirstSlide","nextElementSibling","isReady","useCapture","triggerKey","registerKeyboardShortcut"],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA,mDAA2C,cAAc;;AAEzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;;AChEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,YAAY,OAAO;AACnB;AACA;;AAEA;AACA;AACA;AACA;AACA,mBAAmB,cAAc;AACjC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,iDAAiD;AAC5D,WAAW,gBAAgB;AAC3B,YAAY;AACZ;AACA;AACA;AACA;AACA,iBAAiB,gBAAgB;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,iCAAiC;AAC5C,YAAY;AACZ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD;AACjD;AACA;AACA;AACA,GAAG;AACH;AACA,kCAAkC;AAClC,qBAAqB;AACrB;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yDAAyD;AACzD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,YAAY;AACZ;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,4CAA4C,iBAAiB;AAC7D;AACA,+BAA+B,EAAE;AACjC,8BAA8B,EAAE;AAChC,6BAA6B,EAAE;AAC/B,6BAA6B,EAAE;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;;;;;;;AC7PA;;AAEA,2BAA2B,kCAAkC,cAAc,mCAAmC,EAAE,qBAAqB;AACrI,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA,kDAAkD,kBAAkB;AACpE;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA,kDAAkD,kBAAkB;AACpE;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;;;;;;;AAOA;AACA;AACA;AACA;AACA;AACA,qGAAqG;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA,yCAAyC,SAAS;AAClD;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA,yCAAyC,SAAS;AAClD;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;;;;;;;;AAUA;AACA;AACA,yFAAyF;AACzF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,CAAC;AACD,4MAAoN,kHAAkH;AACtU,0B;;;;;;;;;;;ACxQA;;;;;;;AAOC,WAAUA,IAAV,EAAgBC,OAAhB,EAA0B;AAC1B,KAAI,IAAJ,EAAiD;AAChD;AACAC,EAAA,kCAAQ,YAAW;AAClBF,QAAKG,MAAL,GAAcF,SAAd;AACA,UAAOD,KAAKG,MAAZ;AACA,GAHD;AAAA;AAIA,EAND,MAMO,IAAI,QAAOC,OAAP,yCAAOA,OAAP,OAAmB,QAAvB,EAAkC;AACxC;AACAC,SAAOD,OAAP,GAAiBH,SAAjB;AACA,EAHM,MAGA;AACN;AACAD,OAAKG,MAAL,GAAcF,SAAd;AACA;AACD,CAdA,aAcQ,YAAW;;AAEnB;;AAEA,KAAIE,MAAJ;;AAEA;AACA,KAAIG,UAAU,OAAd;;AAEA,KAAIC,kBAAkB,iBAAtB;AAAA,KACCC,6BAA6B,iBAD9B;AAAA,KAECC,2BAA2B,iCAF5B;AAAA,KAGC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","file":"presentation.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap d1a5ea15b620d8d73a9c","'use strict';\n\nvar pug_has_own_property = Object.prototype.hasOwnProperty;\n\n/**\n * Merge two attribute objects giving precedence\n * to values in object `b`. Classes are special-cased\n * allowing for arrays and merging/joining appropriately\n * resulting in a string.\n *\n * @param {Object} a\n * @param {Object} b\n * @return {Object} a\n * @api private\n */\n\nexports.merge = pug_merge;\nfunction pug_merge(a, b) {\n  if (arguments.length === 1) {\n    var attrs = a[0];\n    for (var i = 1; i < a.length; i++) {\n      attrs = pug_merge(attrs, a[i]);\n    }\n    return attrs;\n  }\n\n  for (var key in b) {\n    if (key === 'class') {\n      var valA = a[key] || [];\n      a[key] = (Array.isArray(valA) ? valA : [valA]).concat(b[key] || []);\n    } else if (key === 'style') {\n      var valA = pug_style(a[key]);\n      var valB = pug_style(b[key]);\n      a[key] = valA + valB;\n    } else {\n      a[key] = b[key];\n    }\n  }\n\n  return a;\n};\n\n/**\n * Process array, object, or string as a string of classes delimited by a space.\n *\n * If `val` is an array, all members of it and its subarrays are counted as\n * classes. If `escaping` is an array, then whether or not the item in `val` is\n * escaped depends on the corresponding item in `escaping`. If `escaping` is\n * not an array, no escaping is done.\n *\n * If `val` is an object, all the keys whose value is truthy are counted as\n * classes. No escaping is done.\n *\n * If `val` is a string, it is counted as a class. No escaping is done.\n *\n * @param {(Array.<string>|Object.<string, boolean>|string)} val\n * @param {?Array.<string>} escaping\n * @return {String}\n */\nexports.classes = pug_classes;\nfunction pug_classes_array(val, escaping) {\n  var classString = '', className, padding = '', escapeEnabled = Array.isArray(escaping);\n  for (var i = 0; i < val.length; i++) {\n    className = pug_classes(val[i]);\n    if (!className) continue;\n    escapeEnabled && escaping[i] && (className = pug_escape(className));\n    classString = classString + padding + className;\n    padding = ' ';\n  }\n  return classString;\n}\nfunction pug_classes_object(val) {\n  var classString = '', padding = '';\n  for (var key in val) {\n    if (key && val[key] && pug_has_own_property.call(val, key)) {\n      classString = classString + padding + key;\n      padding = ' ';\n    }\n  }\n  return classString;\n}\nfunction pug_classes(val, escaping) {\n  if (Array.isArray(val)) {\n    return pug_classes_array(val, escaping);\n  } else if (val && typeof val === 'object') {\n    return pug_classes_object(val);\n  } else {\n    return val || '';\n  }\n}\n\n/**\n * Convert object or string to a string of CSS styles delimited by a semicolon.\n *\n * @param {(Object.<string, string>|string)} val\n * @return {String}\n */\n\nexports.style = pug_style;\nfunction pug_style(val) {\n  if (!val) return '';\n  if (typeof val === 'object') {\n    var out = '';\n    for (var style in val) {\n      /* istanbul ignore else */\n      if (pug_has_own_property.call(val, style)) {\n        out = out + style + ':' + val[style] + ';';\n      }\n    }\n    return out;\n  } else {\n    val += '';\n    if (val[val.length - 1] !== ';') \n      return val + ';';\n    return val;\n  }\n};\n\n/**\n * Render the given attribute.\n *\n * @param {String} key\n * @param {String} val\n * @param {Boolean} escaped\n * @param {Boolean} terse\n * @return {String}\n */\nexports.attr = pug_attr;\nfunction pug_attr(key, val, escaped, terse) {\n  if (val === false || val == null || !val && (key === 'class' || key === 'style')) {\n    return '';\n  }\n  if (val === true) {\n    return ' ' + (terse ? key : key + '=\"' + key + '\"');\n  }\n  if (typeof val.toJSON === 'function') {\n    val = val.toJSON();\n  }\n  if (typeof val !== 'string') {\n    val = JSON.stringify(val);\n    if (!escaped && val.indexOf('\"') !== -1) {\n      return ' ' + key + '=\\'' + val.replace(/'/g, '&#39;') + '\\'';\n    }\n  }\n  if (escaped) val = pug_escape(val);\n  return ' ' + key + '=\"' + val + '\"';\n};\n\n/**\n * Render the given attributes object.\n *\n * @param {Object} obj\n * @param {Object} terse whether to use HTML5 terse boolean attributes\n * @return {String}\n */\nexports.attrs = pug_attrs;\nfunction pug_attrs(obj, terse){\n  var attrs = '';\n\n  for (var key in obj) {\n    if (pug_has_own_property.call(obj, key)) {\n      var val = obj[key];\n\n      if ('class' === key) {\n        val = pug_classes(val);\n        attrs = pug_attr(key, val, false, terse) + attrs;\n        continue;\n      }\n      if ('style' === key) {\n        val = pug_style(val);\n      }\n      attrs += pug_attr(key, val, false, terse);\n    }\n  }\n\n  return attrs;\n};\n\n/**\n * Escape the given string of `html`.\n *\n * @param {String} html\n * @return {String}\n * @api private\n */\n\nvar pug_match_html = /[\"&<>]/;\nexports.escape = pug_escape;\nfunction pug_escape(_html){\n  var html = '' + _html;\n  var regexResult = pug_match_html.exec(html);\n  if (!regexResult) return _html;\n\n  var result = '';\n  var i, lastIndex, escape;\n  for (i = regexResult.index, lastIndex = 0; i < html.length; i++) {\n    switch (html.charCodeAt(i)) {\n      case 34: escape = '&quot;'; break;\n      case 38: escape = '&amp;'; break;\n      case 60: escape = '&lt;'; break;\n      case 62: escape = '&gt;'; break;\n      default: continue;\n    }\n    if (lastIndex !== i) result += html.substring(lastIndex, i);\n    lastIndex = i + 1;\n    result += escape;\n  }\n  if (lastIndex !== i) return result + html.substring(lastIndex, i);\n  else return result;\n};\n\n/**\n * Re-throw the given `err` in context to the\n * the pug in `filename` at the given `lineno`.\n *\n * @param {Error} err\n * @param {String} filename\n * @param {String} lineno\n * @param {String} str original source\n * @api private\n */\n\nexports.rethrow = pug_rethrow;\nfunction pug_rethrow(err, filename, lineno, str){\n  if (!(err instanceof Error)) throw err;\n  if ((typeof window != 'undefined' || !filename) && !str) {\n    err.message += ' on line ' + lineno;\n    throw err;\n  }\n  try {\n    str = str || require('fs').readFileSync(filename, 'utf8')\n  } catch (ex) {\n    pug_rethrow(err, null, lineno)\n  }\n  var context = 3\n    , lines = str.split('\\n')\n    , start = Math.max(lineno - context, 0)\n    , end = Math.min(lines.length, lineno + context);\n\n  // Error context\n  var context = lines.slice(start, end).map(function(line, i){\n    var curr = i + start + 1;\n    return (curr == lineno ? '  > ' : '    ')\n      + curr\n      + '| '\n      + line;\n  }).join('\\n');\n\n  // Alter exception message\n  err.path = filename;\n  err.message = (filename || 'Pug') + ':' + lineno\n    + '\\n' + context + '\\n\\n' + err.message;\n  throw err;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/pug-runtime/index.js\n// module id = 0\n// module chunks = 0","var pug = require(\"!./node_modules/pug-runtime/index.js\");\n\nfunction template(locals) {var pug_html = \"\", pug_mixins = {}, pug_interp;;var locals_for_with = (locals || {});(function (console) {var revealLocation = '/node_modules/reveal.js/'\nvar titleData = { title: \"Title\", subtitle: \"Subtitle\", author: \"Author\", twitter: \"@Twitter\", email: \"name@domain.com\" }\npug_html = pug_html + \"\\u003C!DOCTYPE html\\u003E\\u003Chtml lang=\\\"en\\\"\\u003E\";\npug_mixins[\"ol\"] = pug_interp = function(list){\nvar block = (this && this.block), attributes = (this && this.attributes) || {};\npug_html = pug_html + \"\\u003Col\\u003E\";\n// iterate list\n;(function(){\n  var $$obj = list;\n  if ('number' == typeof $$obj.length) {\n      for (var pug_index0 = 0, $$l = $$obj.length; pug_index0 < $$l; pug_index0++) {\n        var item = $$obj[pug_index0];\npug_html = pug_html + \"\\u003Cli\\u003E\" + (pug.escape(null == (pug_interp = item) ? \"\" : pug_interp)) + \"\\u003C\\u002Fli\\u003E\";\n      }\n  } else {\n    var $$l = 0;\n    for (var pug_index0 in $$obj) {\n      $$l++;\n      var item = $$obj[pug_index0];\npug_html = pug_html + \"\\u003Cli\\u003E\" + (pug.escape(null == (pug_interp = item) ? \"\" : pug_interp)) + \"\\u003C\\u002Fli\\u003E\";\n    }\n  }\n}).call(this);\n\npug_html = pug_html + \"\\u003C\\u002Fol\\u003E\";\n};\npug_mixins[\"ul\"] = pug_interp = function(list){\nvar block = (this && this.block), attributes = (this && this.attributes) || {};\npug_html = pug_html + \"\\u003Cul\\u003E\";\n// iterate list\n;(function(){\n  var $$obj = list;\n  if ('number' == typeof $$obj.length) {\n      for (var pug_index1 = 0, $$l = $$obj.length; pug_index1 < $$l; pug_index1++) {\n        var item = $$obj[pug_index1];\npug_html = pug_html + \"\\u003Cli\\u003E\" + (pug.escape(null == (pug_interp = item) ? \"\" : pug_interp)) + \"\\u003C\\u002Fli\\u003E\";\n      }\n  } else {\n    var $$l = 0;\n    for (var pug_index1 in $$obj) {\n      $$l++;\n      var item = $$obj[pug_index1];\npug_html = pug_html + \"\\u003Cli\\u003E\" + (pug.escape(null == (pug_interp = item) ? \"\" : pug_interp)) + \"\\u003C\\u002Fli\\u003E\";\n    }\n  }\n}).call(this);\n\npug_html = pug_html + \"\\u003C\\u002Ful\\u003E\";\n};\n\n\n\n\n\n\npug_mixins[\"codeBlockFragment\"] = pug_interp = function(attrs){\nvar block = (this && this.block), attributes = (this && this.attributes) || {};\nattrs= typeof(attrs) == 'object' ? attrs : {}\nattrs['class'] = attrs['class'] || ''\nattrs['contenteditable']= attrs['contenteditable'] || false\npug_html = pug_html + \"\\u003Cpre\\u003E\\u003Ccode\" + (pug.attrs(typeof(attrs) == 'object' ? attrs : {}, true)) + \"\\u003E\";\nblock && block();\npug_html = pug_html + \"\\u003C\\u002Fcode\\u003E\\u003C\\u002Fpre\\u003E\";\n};\npug_mixins[\"ulFragment\"] = pug_interp = function(list){\nvar block = (this && this.block), attributes = (this && this.attributes) || {};\npug_html = pug_html + \"\\u003Cul\\u003E\";\n// iterate list\n;(function(){\n  var $$obj = list;\n  if ('number' == typeof $$obj.length) {\n      for (var i = 0, $$l = $$obj.length; i < $$l; i++) {\n        var item = $$obj[i];\npug_html = pug_html + \"\\u003Cli\" + (\" class=\\\"fragment visible\\\"\"+pug.attr(\"data-fragment-index\", i, true, true)) + \"\\u003E\" + (pug.escape(null == (pug_interp = item) ? \"\" : pug_interp)) + \"\\u003C\\u002Fli\\u003E\";\n      }\n  } else {\n    var $$l = 0;\n    for (var i in $$obj) {\n      $$l++;\n      var item = $$obj[i];\npug_html = pug_html + \"\\u003Cli\" + (\" class=\\\"fragment visible\\\"\"+pug.attr(\"data-fragment-index\", i, true, true)) + \"\\u003E\" + (pug.escape(null == (pug_interp = item) ? \"\" : pug_interp)) + \"\\u003C\\u002Fli\\u003E\";\n    }\n  }\n}).call(this);\n\npug_html = pug_html + \"\\u003C\\u002Ful\\u003E\";\n};\npug_mixins[\"olFragment\"] = pug_interp = function(list){\nvar block = (this && this.block), attributes = (this && this.attributes) || {};\npug_html = pug_html + \"\\u003Col\\u003E\";\n// iterate list\n;(function(){\n  var $$obj = list;\n  if ('number' == typeof $$obj.length) {\n      for (var i = 0, $$l = $$obj.length; i < $$l; i++) {\n        var item = $$obj[i];\npug_html = pug_html + \"\\u003Cli\" + (\" class=\\\"fragment visible\\\"\"+pug.attr(\"data-fragment-index\", i, true, true)) + \"\\u003E\" + (pug.escape(null == (pug_interp = item) ? \"\" : pug_interp)) + \"\\u003C\\u002Fli\\u003E\";\n      }\n  } else {\n    var $$l = 0;\n    for (var i in $$obj) {\n      $$l++;\n      var item = $$obj[i];\npug_html = pug_html + \"\\u003Cli\" + (\" class=\\\"fragment visible\\\"\"+pug.attr(\"data-fragment-index\", i, true, true)) + \"\\u003E\" + (pug.escape(null == (pug_interp = item) ? \"\" : pug_interp)) + \"\\u003C\\u002Fli\\u003E\";\n    }\n  }\n}).call(this);\n\npug_html = pug_html + \"\\u003C\\u002Fol\\u003E\";\n};\npug_mixins[\"titleSlide\"] = pug_interp = function(titleData, attrs){\nvar block = (this && this.block), attributes = (this && this.attributes) || {};\npug_mixins[\"slide\"].call({\nblock: function(){\npug_html = pug_html + \"\\u003Ch1\\u003E\" + (pug.escape(null == (pug_interp = titleData.title) ? \"\" : pug_interp)) + \"\\u003C\\u002Fh1\\u003E\\u003Ch3\\u003E\" + (pug.escape(null == (pug_interp = titleData.subtitle) ? \"\" : pug_interp)) + \"\\u003C\\u002Fh3\\u003E\\u003Cp\\u003E\\u003Cdiv class=\\\"left\\\"\\u003E\\u003Csmall\\u003E\" + (pug.escape(null == (pug_interp = titleData.author) ? \"\" : pug_interp)) + \"\\u003C\\u002Fsmall\\u003E\\u003C\\u002Fdiv\\u003E\\u003Cdiv class=\\\"left\\\"\\u003E\\u003Csmall class=\\\"twitter\\\"\\u003E\" + (pug.escape(null == (pug_interp = titleData.twitter) ? \"\" : pug_interp)) + \"\\u003C\\u002Fsmall\\u003E\\u003C\\u002Fdiv\\u003E\\u003Cdiv class=\\\"left\\\"\\u003E\\u003Csmall class=\\\"email\\\"\\u003E\" + (pug.escape(null == (pug_interp = titleData.email) ? \"\" : pug_interp)) + \"\\u003C\\u002Fsmall\\u003E\\u003C\\u002Fdiv\\u003E\\u003C\\u002Fp\\u003E\\u003Caside class=\\\"notes\\\"\\u003ETitle Slide\\u003C\\u002Faside\\u003E\";\n}\n}, attrs);\n};\npug_mixins[\"ulSlide\"] = pug_interp = function(title, list, attrs){\nvar block = (this && this.block), attributes = (this && this.attributes) || {};\npug_mixins[\"slide\"].call({\nblock: function(){\npug_html = pug_html + \"\\u003Ch3\\u003E\" + (pug.escape(null == (pug_interp = title) ? \"\" : pug_interp)) + \"\\u003C\\u002Fh3\\u003E\";\npug_mixins[\"ul\"](list);\nblock && block();\n}\n}, attrs);\n};\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\npug_mixins[\"bigTitleSlide\"] = pug_interp = function(title, attrs){\nvar block = (this && this.block), attributes = (this && this.attributes) || {};\npug_mixins[\"slide\"].call({\nblock: function(){\npug_html = pug_html + \"\\u003Ch1\\u003E\" + (pug.escape(null == (pug_interp = title) ? \"\" : pug_interp)) + \"\\u003C\\u002Fh1\\u003E\";\nblock && block();\n}\n}, attrs);\n};\n\n\n\n\n\n\n\n\n\npug_mixins[\"slide\"] = pug_interp = function(attrs){\nvar block = (this && this.block), attributes = (this && this.attributes) || {};\npug_html = pug_html + \"\\u003Csection\" + (pug.attrs(typeof(attrs) == 'object' ? attrs : {}, true)) + \"\\u003E\";\nblock && block();\npug_html = pug_html + \"\\u003C\\u002Fsection\\u003E\";\n};\npug_mixins[\"slideGroup\"] = pug_interp = function(attrs){\nvar block = (this && this.block), attributes = (this && this.attributes) || {};\npug_mixins[\"slide\"].call({\nblock: function(){\nblock && block();\n}\n}, attrs);\n};\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\npug_html = pug_html + \"\\u003Clink rel=\\\"external\\\" type=\\\"text\\u002Fhtml\\\" src=\\\".\\u002Fshared\\u002Fhead.jade\\\"\\u003E\\u003Cbody\\u003E\\u003Cdiv class=\\\"reveal\\\"\\u003E\\u003Cdiv class=\\\"slides\\\"\\u003E\";\nconsole.log(titleData);\npug_mixins[\"titleSlide\"](titleData);\npug_mixins[\"ulSlide\"](\"Get Started\", [\n          \"npm install -g bower grunt\",\n          \"npm install\",\n          \"bower install\",\n          \"grunt serve\",\n          \"go to localhost:8000/example/\"\n        ]);\npug_mixins[\"bigTitleSlide\"].call({\nblock: function(){\npug_html = pug_html + \"\\u003Cp\\u003EEnjoy\\u003C\\u002Fp\\u003E\";\n}\n}, \"I am a big title slide\");\npug_mixins[\"slide\"].call({\nblock: function(){\npug_html = pug_html + \"\\u003Cp\\u003EThis is a normal Slide. Just nest jade under me\\u003C\\u002Fp\\u003E\";\n}\n});\npug_mixins[\"slideGroup\"].call({\nblock: function(){\npug_mixins[\"bigTitleSlide\"](\"First Slide in a group\");\npug_mixins[\"bigTitleSlide\"](\"Last Slide in a group\");\n}\n});\npug_mixins[\"slide\"].call({\nblock: function(){\npug_html = pug_html + \"\\u003Ch1\\u003EMarkdown flavored Slide\\u003C\\u002Fh1\\u003E\\n\\n\\u003Ch2\\u003EThank you Jade\\u003C\\u002Fh2\\u003E\";\n}\n});\npug_html = pug_html + \"\\u003C\\u002Fdiv\\u003E\\u003C\\u002Fdiv\\u003E\" + (null == (pug_interp = require(\"./shared/footer.pug\").call(this, locals)) ? \"\" : pug_interp) + \"\\u003C\\u002Fbody\\u003E\\u003C\\u002Fhtml\\u003E\";}.call(this,\"console\" in locals_for_with?locals_for_with.console:typeof console!==\"undefined\"?console:undefined));;return pug_html;};\nmodule.exports = template;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./index.pug\n// module id = 1\n// module chunks = 0","/*!\n * reveal.js\n * http://lab.hakim.se/reveal-js\n * MIT licensed\n *\n * Copyright (C) 2016 Hakim El Hattab, http://hakim.se\n */\n(function( root, factory ) {\n\tif( typeof define === 'function' && define.amd ) {\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine( function() {\n\t\t\troot.Reveal = factory();\n\t\t\treturn root.Reveal;\n\t\t} );\n\t} else if( typeof exports === 'object' ) {\n\t\t// Node. Does not work with strict CommonJS.\n\t\tmodule.exports = factory();\n\t} else {\n\t\t// Browser globals.\n\t\troot.Reveal = factory();\n\t}\n}( this, function() {\n\n\t'use strict';\n\n\tvar Reveal;\n\n\t// The reveal.js version\n\tvar VERSION = '3.4.1';\n\n\tvar SLIDES_SELECTOR = '.slides section',\n\t\tHORIZONTAL_SLIDES_SELECTOR = '.slides>section',\n\t\tVERTICAL_SLIDES_SELECTOR = '.slides>section.present>section',\n\t\tHOME_SLIDE_SELECTOR = '.slides>section:first-of-type',\n\t\tUA = navigator.userAgent,\n\n\t\t// Configuration defaults, can be overridden at initialization time\n\t\tconfig = {\n\n\t\t\t// The \"normal\" size of the presentation, aspect ratio will be preserved\n\t\t\t// when the presentation is scaled to fit different resolutions\n\t\t\twidth: 960,\n\t\t\theight: 700,\n\n\t\t\t// Factor of the display size that should remain empty around the content\n\t\t\tmargin: 0.04,\n\n\t\t\t// Bounds for smallest/largest possible scale to apply to content\n\t\t\tminScale: 0.2,\n\t\t\tmaxScale: 2.0,\n\n\t\t\t// Display controls in the bottom right corner\n\t\t\tcontrols: true,\n\n\t\t\t// Display a presentation progress bar\n\t\t\tprogress: true,\n\n\t\t\t// Display the page number of the current slide\n\t\t\tslideNumber: false,\n\n\t\t\t// Push each slide change to the browser history\n\t\t\thistory: false,\n\n\t\t\t// Enable keyboard shortcuts for navigation\n\t\t\tkeyboard: true,\n\n\t\t\t// Optional function that blocks keyboard events when retuning false\n\t\t\tkeyboardCondition: null,\n\n\t\t\t// Enable the slide overview mode\n\t\t\toverview: true,\n\n\t\t\t// Vertical centering of slides\n\t\t\tcenter: true,\n\n\t\t\t// Enables touch navigation on devices with touch input\n\t\t\ttouch: true,\n\n\t\t\t// Loop the presentation\n\t\t\tloop: false,\n\n\t\t\t// Change the presentation direction to be RTL\n\t\t\trtl: false,\n\n\t\t\t// Randomizes the order of slides each time the presentation loads\n\t\t\tshuffle: false,\n\n\t\t\t// Turns fragments on and off globally\n\t\t\tfragments: true,\n\n\t\t\t// Flags if the presentation is running in an embedded mode,\n\t\t\t// i.e. contained within a limited portion of the screen\n\t\t\tembedded: false,\n\n\t\t\t// Flags if we should show a help overlay when the question-mark\n\t\t\t// key is pressed\n\t\t\thelp: true,\n\n\t\t\t// Flags if it should be possible to pause the presentation (blackout)\n\t\t\tpause: true,\n\n\t\t\t// Flags if speaker notes should be visible to all viewers\n\t\t\tshowNotes: false,\n\n\t\t\t// Number of milliseconds between automatically proceeding to the\n\t\t\t// next slide, disabled when set to 0, this value can be overwritten\n\t\t\t// by using a data-autoslide attribute on your slides\n\t\t\tautoSlide: 0,\n\n\t\t\t// Stop auto-sliding after user input\n\t\t\tautoSlideStoppable: true,\n\n\t\t\t// Use this method for navigation when auto-sliding (defaults to navigateNext)\n\t\t\tautoSlideMethod: null,\n\n\t\t\t// Enable slide navigation via mouse wheel\n\t\t\tmouseWheel: false,\n\n\t\t\t// Apply a 3D roll to links on hover\n\t\t\trollingLinks: false,\n\n\t\t\t// Hides the address bar on mobile devices\n\t\t\thideAddressBar: true,\n\n\t\t\t// Opens links in an iframe preview overlay\n\t\t\tpreviewLinks: false,\n\n\t\t\t// Exposes the reveal.js API through window.postMessage\n\t\t\tpostMessage: true,\n\n\t\t\t// Dispatches all reveal.js events to the parent window through postMessage\n\t\t\tpostMessageEvents: false,\n\n\t\t\t// Focuses body when page changes visibility to ensure keyboard shortcuts work\n\t\t\tfocusBodyOnPageVisibilityChange: true,\n\n\t\t\t// Transition style\n\t\t\ttransition: 'slide', // none/fade/slide/convex/concave/zoom\n\n\t\t\t// Transition speed\n\t\t\ttransitionSpeed: 'default', // default/fast/slow\n\n\t\t\t// Transition style for full page slide backgrounds\n\t\t\tbackgroundTransition: 'fade', // none/fade/slide/convex/concave/zoom\n\n\t\t\t// Parallax background image\n\t\t\tparallaxBackgroundImage: '', // CSS syntax, e.g. \"a.jpg\"\n\n\t\t\t// Parallax background size\n\t\t\tparallaxBackgroundSize: '', // CSS syntax, e.g. \"3000px 2000px\"\n\n\t\t\t// Amount of pixels to move the parallax background per slide step\n\t\t\tparallaxBackgroundHorizontal: null,\n\t\t\tparallaxBackgroundVertical: null,\n\n\t\t\t// The maximum number of pages a single slide can expand onto when printing\n\t\t\t// to PDF, unlimited by default\n\t\t\tpdfMaxPagesPerSlide: Number.POSITIVE_INFINITY,\n\n\t\t\t// Number of slides away from the current that are visible\n\t\t\tviewDistance: 3,\n\n\t\t\t// Script dependencies to load\n\t\t\tdependencies: []\n\n\t\t},\n\n\t\t// Flags if Reveal.initialize() has been called\n\t\tinitialized = false,\n\n\t\t// Flags if reveal.js is loaded (has dispatched the 'ready' event)\n\t\tloaded = false,\n\n\t\t// Flags if the overview mode is currently active\n\t\toverview = false,\n\n\t\t// Holds the dimensions of our overview slides, including margins\n\t\toverviewSlideWidth = null,\n\t\toverviewSlideHeight = null,\n\n\t\t// The horizontal and vertical index of the currently active slide\n\t\tindexh,\n\t\tindexv,\n\n\t\t// The previous and current slide HTML elements\n\t\tpreviousSlide,\n\t\tcurrentSlide,\n\n\t\tpreviousBackground,\n\n\t\t// Slides may hold a data-state attribute which we pick up and apply\n\t\t// as a class to the body. This list contains the combined state of\n\t\t// all current slides.\n\t\tstate = [],\n\n\t\t// The current scale of the presentation (see width/height config)\n\t\tscale = 1,\n\n\t\t// CSS transform that is currently applied to the slides container,\n\t\t// split into two groups\n\t\tslidesTransform = { layout: '', overview: '' },\n\n\t\t// Cached references to DOM elements\n\t\tdom = {},\n\n\t\t// Features supported by the browser, see #checkCapabilities()\n\t\tfeatures = {},\n\n\t\t// Client is a mobile device, see #checkCapabilities()\n\t\tisMobileDevice,\n\n\t\t// Client is a desktop Chrome, see #checkCapabilities()\n\t\tisChrome,\n\n\t\t// Throttles mouse wheel navigation\n\t\tlastMouseWheelStep = 0,\n\n\t\t// Delays updates to the URL due to a Chrome thumbnailer bug\n\t\twriteURLTimeout = 0,\n\n\t\t// Flags if the interaction event listeners are bound\n\t\teventsAreBound = false,\n\n\t\t// The current auto-slide duration\n\t\tautoSlide = 0,\n\n\t\t// Auto slide properties\n\t\tautoSlidePlayer,\n\t\tautoSlideTimeout = 0,\n\t\tautoSlideStartTime = -1,\n\t\tautoSlidePaused = false,\n\n\t\t// Holds information about the currently ongoing touch input\n\t\ttouch = {\n\t\t\tstartX: 0,\n\t\t\tstartY: 0,\n\t\t\tstartSpan: 0,\n\t\t\tstartCount: 0,\n\t\t\tcaptured: false,\n\t\t\tthreshold: 40\n\t\t},\n\n\t\t// Holds information about the keyboard shortcuts\n\t\tkeyboardShortcuts = {\n\t\t\t'N  ,  SPACE':\t\t\t'Next slide',\n\t\t\t'P':\t\t\t\t\t'Previous slide',\n\t\t\t'&#8592;  ,  H':\t\t'Navigate left',\n\t\t\t'&#8594;  ,  L':\t\t'Navigate right',\n\t\t\t'&#8593;  ,  K':\t\t'Navigate up',\n\t\t\t'&#8595;  ,  J':\t\t'Navigate down',\n\t\t\t'Home':\t\t\t\t\t'First slide',\n\t\t\t'End':\t\t\t\t\t'Last slide',\n\t\t\t'B  ,  .':\t\t\t\t'Pause',\n\t\t\t'F':\t\t\t\t\t'Fullscreen',\n\t\t\t'ESC, O':\t\t\t\t'Slide overview'\n\t\t};\n\n\t/**\n\t * Starts up the presentation if the client is capable.\n\t */\n\tfunction initialize( options ) {\n\n\t\t// Make sure we only initialize once\n\t\tif( initialized === true ) return;\n\n\t\tinitialized = true;\n\n\t\tcheckCapabilities();\n\n\t\tif( !features.transforms2d && !features.transforms3d ) {\n\t\t\tdocument.body.setAttribute( 'class', 'no-transforms' );\n\n\t\t\t// Since JS won't be running any further, we load all lazy\n\t\t\t// loading elements upfront\n\t\t\tvar images = toArray( document.getElementsByTagName( 'img' ) ),\n\t\t\t\tiframes = toArray( document.getElementsByTagName( 'iframe' ) );\n\n\t\t\tvar lazyLoadable = images.concat( iframes );\n\n\t\t\tfor( var i = 0, len = lazyLoadable.length; i < len; i++ ) {\n\t\t\t\tvar element = lazyLoadable[i];\n\t\t\t\tif( element.getAttribute( 'data-src' ) ) {\n\t\t\t\t\telement.setAttribute( 'src', element.getAttribute( 'data-src' ) );\n\t\t\t\t\telement.removeAttribute( 'data-src' );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// If the browser doesn't support core features we won't be\n\t\t\t// using JavaScript to control the presentation\n\t\t\treturn;\n\t\t}\n\n\t\t// Cache references to key DOM elements\n\t\tdom.wrapper = document.querySelector( '.reveal' );\n\t\tdom.slides = document.querySelector( '.reveal .slides' );\n\n\t\t// Force a layout when the whole page, incl fonts, has loaded\n\t\twindow.addEventListener( 'load', layout, false );\n\n\t\tvar query = Reveal.getQueryHash();\n\n\t\t// Do not accept new dependencies via query config to avoid\n\t\t// the potential of malicious script injection\n\t\tif( typeof query['dependencies'] !== 'undefined' ) delete query['dependencies'];\n\n\t\t// Copy options over to our config object\n\t\textend( config, options );\n\t\textend( config, query );\n\n\t\t// Hide the address bar in mobile browsers\n\t\thideAddressBar();\n\n\t\t// Loads the dependencies and continues to #start() once done\n\t\tload();\n\n\t}\n\n\t/**\n\t * Inspect the client to see what it's capable of, this\n\t * should only happens once per runtime.\n\t */\n\tfunction checkCapabilities() {\n\n\t\tisMobileDevice = /(iphone|ipod|ipad|android)/gi.test( UA );\n\t\tisChrome = /chrome/i.test( UA ) && !/edge/i.test( UA );\n\n\t\tvar testElement = document.createElement( 'div' );\n\n\t\tfeatures.transforms3d = 'WebkitPerspective' in testElement.style ||\n\t\t\t\t\t\t\t\t'MozPerspective' in testElement.style ||\n\t\t\t\t\t\t\t\t'msPerspective' in testElement.style ||\n\t\t\t\t\t\t\t\t'OPerspective' in testElement.style ||\n\t\t\t\t\t\t\t\t'perspective' in testElement.style;\n\n\t\tfeatures.transforms2d = 'WebkitTransform' in testElement.style ||\n\t\t\t\t\t\t\t\t'MozTransform' in testElement.style ||\n\t\t\t\t\t\t\t\t'msTransform' in testElement.style ||\n\t\t\t\t\t\t\t\t'OTransform' in testElement.style ||\n\t\t\t\t\t\t\t\t'transform' in testElement.style;\n\n\t\tfeatures.requestAnimationFrameMethod = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame;\n\t\tfeatures.requestAnimationFrame = typeof features.requestAnimationFrameMethod === 'function';\n\n\t\tfeatures.canvas = !!document.createElement( 'canvas' ).getContext;\n\n\t\t// Transitions in the overview are disabled in desktop and\n\t\t// Safari due to lag\n\t\tfeatures.overviewTransitions = !/Version\\/[\\d\\.]+.*Safari/.test( UA );\n\n\t\t// Flags if we should use zoom instead of transform to scale\n\t\t// up slides. Zoom produces crisper results but has a lot of\n\t\t// xbrowser quirks so we only use it in whitelsited browsers.\n\t\tfeatures.zoom = 'zoom' in testElement.style && !isMobileDevice &&\n\t\t\t\t\t\t( isChrome || /Version\\/[\\d\\.]+.*Safari/.test( UA ) );\n\n\t}\n\n    /**\n     * Loads the dependencies of reveal.js. Dependencies are\n     * defined via the configuration option 'dependencies'\n     * and will be loaded prior to starting/binding reveal.js.\n     * Some dependencies may have an 'async' flag, if so they\n     * will load after reveal.js has been started up.\n     */\n\tfunction load() {\n\n\t\tvar scripts = [],\n\t\t\tscriptsAsync = [],\n\t\t\tscriptsToPreload = 0;\n\n\t\t// Called once synchronous scripts finish loading\n\t\tfunction proceed() {\n\t\t\tif( scriptsAsync.length ) {\n\t\t\t\t// Load asynchronous scripts\n\t\t\t\thead.js.apply( null, scriptsAsync );\n\t\t\t}\n\n\t\t\tstart();\n\t\t}\n\n\t\tfunction loadScript( s ) {\n\t\t\thead.ready( s.src.match( /([\\w\\d_\\-]*)\\.?js$|[^\\\\\\/]*$/i )[0], function() {\n\t\t\t\t// Extension may contain callback functions\n\t\t\t\tif( typeof s.callback === 'function' ) {\n\t\t\t\t\ts.callback.apply( this );\n\t\t\t\t}\n\n\t\t\t\tif( --scriptsToPreload === 0 ) {\n\t\t\t\t\tproceed();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tfor( var i = 0, len = config.dependencies.length; i < len; i++ ) {\n\t\t\tvar s = config.dependencies[i];\n\n\t\t\t// Load if there's no condition or the condition is truthy\n\t\t\tif( !s.condition || s.condition() ) {\n\t\t\t\tif( s.async ) {\n\t\t\t\t\tscriptsAsync.push( s.src );\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tscripts.push( s.src );\n\t\t\t\t}\n\n\t\t\t\tloadScript( s );\n\t\t\t}\n\t\t}\n\n\t\tif( scripts.length ) {\n\t\t\tscriptsToPreload = scripts.length;\n\n\t\t\t// Load synchronous scripts\n\t\t\thead.js.apply( null, scripts );\n\t\t}\n\t\telse {\n\t\t\tproceed();\n\t\t}\n\n\t}\n\n\t/**\n\t * Starts up reveal.js by binding input events and navigating\n\t * to the current URL deeplink if there is one.\n\t */\n\tfunction start() {\n\n\t\t// Make sure we've got all the DOM elements we need\n\t\tsetupDOM();\n\n\t\t// Listen to messages posted to this window\n\t\tsetupPostMessage();\n\n\t\t// Prevent the slides from being scrolled out of view\n\t\tsetupScrollPrevention();\n\n\t\t// Resets all vertical slides so that only the first is visible\n\t\tresetVerticalSlides();\n\n\t\t// Updates the presentation to match the current configuration values\n\t\tconfigure();\n\n\t\t// Read the initial hash\n\t\treadURL();\n\n\t\t// Update all backgrounds\n\t\tupdateBackground( true );\n\n\t\t// Notify listeners that the presentation is ready but use a 1ms\n\t\t// timeout to ensure it's not fired synchronously after #initialize()\n\t\tsetTimeout( function() {\n\t\t\t// Enable transitions now that we're loaded\n\t\t\tdom.slides.classList.remove( 'no-transition' );\n\n\t\t\tloaded = true;\n\n\t\t\tdom.wrapper.classList.add( 'ready' );\n\n\t\t\tdispatchEvent( 'ready', {\n\t\t\t\t'indexh': indexh,\n\t\t\t\t'indexv': indexv,\n\t\t\t\t'currentSlide': currentSlide\n\t\t\t} );\n\t\t}, 1 );\n\n\t\t// Special setup and config is required when printing to PDF\n\t\tif( isPrintingPDF() ) {\n\t\t\tremoveEventListeners();\n\n\t\t\t// The document needs to have loaded for the PDF layout\n\t\t\t// measurements to be accurate\n\t\t\tif( document.readyState === 'complete' ) {\n\t\t\t\tsetupPDF();\n\t\t\t}\n\t\t\telse {\n\t\t\t\twindow.addEventListener( 'load', setupPDF );\n\t\t\t}\n\t\t}\n\n\t}\n\n\t/**\n\t * Finds and stores references to DOM elements which are\n\t * required by the presentation. If a required element is\n\t * not found, it is created.\n\t */\n\tfunction setupDOM() {\n\n\t\t// Prevent transitions while we're loading\n\t\tdom.slides.classList.add( 'no-transition' );\n\n\t\t// Background element\n\t\tdom.background = createSingletonNode( dom.wrapper, 'div', 'backgrounds', null );\n\n\t\t// Progress bar\n\t\tdom.progress = createSingletonNode( dom.wrapper, 'div', 'progress', '<span></span>' );\n\t\tdom.progressbar = dom.progress.querySelector( 'span' );\n\n\t\t// Arrow controls\n\t\tcreateSingletonNode( dom.wrapper, 'aside', 'controls',\n\t\t\t'<button class=\"navigate-left\" aria-label=\"previous slide\"></button>' +\n\t\t\t'<button class=\"navigate-right\" aria-label=\"next slide\"></button>' +\n\t\t\t'<button class=\"navigate-up\" aria-label=\"above slide\"></button>' +\n\t\t\t'<button class=\"navigate-down\" aria-label=\"below slide\"></button>' );\n\n\t\t// Slide number\n\t\tdom.slideNumber = createSingletonNode( dom.wrapper, 'div', 'slide-number', '' );\n\n\t\t// Element containing notes that are visible to the audience\n\t\tdom.speakerNotes = createSingletonNode( dom.wrapper, 'div', 'speaker-notes', null );\n\t\tdom.speakerNotes.setAttribute( 'data-prevent-swipe', '' );\n\t\tdom.speakerNotes.setAttribute( 'tabindex', '0' );\n\n\t\t// Overlay graphic which is displayed during the paused mode\n\t\tcreateSingletonNode( dom.wrapper, 'div', 'pause-overlay', null );\n\n\t\t// Cache references to elements\n\t\tdom.controls = document.querySelector( '.reveal .controls' );\n\n\t\tdom.wrapper.setAttribute( 'role', 'application' );\n\n\t\t// There can be multiple instances of controls throughout the page\n\t\tdom.controlsLeft = toArray( document.querySelectorAll( '.navigate-left' ) );\n\t\tdom.controlsRight = toArray( document.querySelectorAll( '.navigate-right' ) );\n\t\tdom.controlsUp = toArray( document.querySelectorAll( '.navigate-up' ) );\n\t\tdom.controlsDown = toArray( document.querySelectorAll( '.navigate-down' ) );\n\t\tdom.controlsPrev = toArray( document.querySelectorAll( '.navigate-prev' ) );\n\t\tdom.controlsNext = toArray( document.querySelectorAll( '.navigate-next' ) );\n\n\t\tdom.statusDiv = createStatusDiv();\n\t}\n\n\t/**\n\t * Creates a hidden div with role aria-live to announce the\n\t * current slide content. Hide the div off-screen to make it\n\t * available only to Assistive Technologies.\n\t *\n\t * @return {HTMLElement}\n\t */\n\tfunction createStatusDiv() {\n\n\t\tvar statusDiv = document.getElementById( 'aria-status-div' );\n\t\tif( !statusDiv ) {\n\t\t\tstatusDiv = document.createElement( 'div' );\n\t\t\tstatusDiv.style.position = 'absolute';\n\t\t\tstatusDiv.style.height = '1px';\n\t\t\tstatusDiv.style.width = '1px';\n\t\t\tstatusDiv.style.overflow = 'hidden';\n\t\t\tstatusDiv.style.clip = 'rect( 1px, 1px, 1px, 1px )';\n\t\t\tstatusDiv.setAttribute( 'id', 'aria-status-div' );\n\t\t\tstatusDiv.setAttribute( 'aria-live', 'polite' );\n\t\t\tstatusDiv.setAttribute( 'aria-atomic','true' );\n\t\t\tdom.wrapper.appendChild( statusDiv );\n\t\t}\n\t\treturn statusDiv;\n\n\t}\n\n\t/**\n\t * Converts the given HTML element into a string of text\n\t * that can be announced to a screen reader. Hidden\n\t * elements are excluded.\n\t */\n\tfunction getStatusText( node ) {\n\n\t\tvar text = '';\n\n\t\t// Text node\n\t\tif( node.nodeType === 3 ) {\n\t\t\ttext += node.textContent;\n\t\t}\n\t\t// Element node\n\t\telse if( node.nodeType === 1 ) {\n\n\t\t\tvar isAriaHidden = node.getAttribute( 'aria-hidden' );\n\t\t\tvar isDisplayHidden = window.getComputedStyle( node )['display'] === 'none';\n\t\t\tif( isAriaHidden !== 'true' && !isDisplayHidden ) {\n\n\t\t\t\ttoArray( node.childNodes ).forEach( function( child ) {\n\t\t\t\t\ttext += getStatusText( child );\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn text;\n\n\t}\n\n\t/**\n\t * Configures the presentation for printing to a static\n\t * PDF.\n\t */\n\tfunction setupPDF() {\n\n\t\tvar slideSize = getComputedSlideSize( window.innerWidth, window.innerHeight );\n\n\t\t// Dimensions of the PDF pages\n\t\tvar pageWidth = Math.floor( slideSize.width * ( 1 + config.margin ) ),\n\t\t\tpageHeight = Math.floor( slideSize.height * ( 1 + config.margin ) );\n\n\t\t// Dimensions of slides within the pages\n\t\tvar slideWidth = slideSize.width,\n\t\t\tslideHeight = slideSize.height;\n\n\t\t// Let the browser know what page size we want to print\n\t\tinjectStyleSheet( '@page{size:'+ pageWidth +'px '+ pageHeight +'px; margin: 0 0 -1px 0;}' );\n\n\t\t// Limit the size of certain elements to the dimensions of the slide\n\t\tinjectStyleSheet( '.reveal section>img, .reveal section>video, .reveal section>iframe{max-width: '+ slideWidth +'px; max-height:'+ slideHeight +'px}' );\n\n\t\tdocument.body.classList.add( 'print-pdf' );\n\t\tdocument.body.style.width = pageWidth + 'px';\n\t\tdocument.body.style.height = pageHeight + 'px';\n\n\t\t// Add each slide's index as attributes on itself, we need these\n\t\t// indices to generate slide numbers below\n\t\ttoArray( dom.wrapper.querySelectorAll( HORIZONTAL_SLIDES_SELECTOR ) ).forEach( function( hslide, h ) {\n\t\t\thslide.setAttribute( 'data-index-h', h );\n\n\t\t\tif( hslide.classList.contains( 'stack' ) ) {\n\t\t\t\ttoArray( hslide.querySelectorAll( 'section' ) ).forEach( function( vslide, v ) {\n\t\t\t\t\tvslide.setAttribute( 'data-index-h', h );\n\t\t\t\t\tvslide.setAttribute( 'data-index-v', v );\n\t\t\t\t} );\n\t\t\t}\n\t\t} );\n\n\t\t// Slide and slide background layout\n\t\ttoArray( dom.wrapper.querySelectorAll( SLIDES_SELECTOR ) ).forEach( function( slide ) {\n\n\t\t\t// Vertical stacks are not centred since their section\n\t\t\t// children will be\n\t\t\tif( slide.classList.contains( 'stack' ) === false ) {\n\t\t\t\t// Center the slide inside of the page, giving the slide some margin\n\t\t\t\tvar left = ( pageWidth - slideWidth ) / 2,\n\t\t\t\t\ttop = ( pageHeight - slideHeight ) / 2;\n\n\t\t\t\tvar contentHeight = slide.scrollHeight;\n\t\t\t\tvar numberOfPages = Math.max( Math.ceil( contentHeight / pageHeight ), 1 );\n\n\t\t\t\t// Adhere to configured pages per slide limit\n\t\t\t\tnumberOfPages = Math.min( numberOfPages, config.pdfMaxPagesPerSlide );\n\n\t\t\t\t// Center slides vertically\n\t\t\t\tif( numberOfPages === 1 && config.center || slide.classList.contains( 'center' ) ) {\n\t\t\t\t\ttop = Math.max( ( pageHeight - contentHeight ) / 2, 0 );\n\t\t\t\t}\n\n\t\t\t\t// Wrap the slide in a page element and hide its overflow\n\t\t\t\t// so that no page ever flows onto another\n\t\t\t\tvar page = document.createElement( 'div' );\n\t\t\t\tpage.className = 'pdf-page';\n\t\t\t\tpage.style.height = ( pageHeight * numberOfPages ) + 'px';\n\t\t\t\tslide.parentNode.insertBefore( page, slide );\n\t\t\t\tpage.appendChild( slide );\n\n\t\t\t\t// Position the slide inside of the page\n\t\t\t\tslide.style.left = left + 'px';\n\t\t\t\tslide.style.top = top + 'px';\n\t\t\t\tslide.style.width = slideWidth + 'px';\n\n\t\t\t\tif( slide.slideBackgroundElement ) {\n\t\t\t\t\tpage.insertBefore( slide.slideBackgroundElement, slide );\n\t\t\t\t}\n\n\t\t\t\t// Inject notes if `showNotes` is enabled\n\t\t\t\tif( config.showNotes ) {\n\n\t\t\t\t\t// Are there notes for this slide?\n\t\t\t\t\tvar notes = getSlideNotes( slide );\n\t\t\t\t\tif( notes ) {\n\n\t\t\t\t\t\tvar notesSpacing = 8;\n\t\t\t\t\t\tvar notesLayout = typeof config.showNotes === 'string' ? config.showNotes : 'inline';\n\t\t\t\t\t\tvar notesElement = document.createElement( 'div' );\n\t\t\t\t\t\tnotesElement.classList.add( 'speaker-notes' );\n\t\t\t\t\t\tnotesElement.classList.add( 'speaker-notes-pdf' );\n\t\t\t\t\t\tnotesElement.setAttribute( 'data-layout', notesLayout );\n\t\t\t\t\t\tnotesElement.innerHTML = notes;\n\n\t\t\t\t\t\tif( notesLayout === 'separate-page' ) {\n\t\t\t\t\t\t\tpage.parentNode.insertBefore( notesElement, page.nextSibling );\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tnotesElement.style.left = notesSpacing + 'px';\n\t\t\t\t\t\t\tnotesElement.style.bottom = notesSpacing + 'px';\n\t\t\t\t\t\t\tnotesElement.style.width = ( pageWidth - notesSpacing*2 ) + 'px';\n\t\t\t\t\t\t\tpage.appendChild( notesElement );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t// Inject slide numbers if `slideNumbers` are enabled\n\t\t\t\tif( config.slideNumber ) {\n\t\t\t\t\tvar slideNumberH = parseInt( slide.getAttribute( 'data-index-h' ), 10 ) + 1,\n\t\t\t\t\t\tslideNumberV = parseInt( slide.getAttribute( 'data-index-v' ), 10 ) + 1;\n\n\t\t\t\t\tvar numberElement = document.createElement( 'div' );\n\t\t\t\t\tnumberElement.classList.add( 'slide-number' );\n\t\t\t\t\tnumberElement.classList.add( 'slide-number-pdf' );\n\t\t\t\t\tnumberElement.innerHTML = formatSlideNumber( slideNumberH, '.', slideNumberV );\n\t\t\t\t\tpage.appendChild( numberElement );\n\t\t\t\t}\n\t\t\t}\n\n\t\t} );\n\n\t\t// Show all fragments\n\t\ttoArray( dom.wrapper.querySelectorAll( SLIDES_SELECTOR + ' .fragment' ) ).forEach( function( fragment ) {\n\t\t\tfragment.classList.add( 'visible' );\n\t\t} );\n\n\t\t// Notify subscribers that the PDF layout is good to go\n\t\tdispatchEvent( 'pdf-ready' );\n\n\t}\n\n\t/**\n\t * This is an unfortunate necessity. Some actions – such as\n\t * an input field being focused in an iframe or using the\n\t * keyboard to expand text selection beyond the bounds of\n\t * a slide – can trigger our content to be pushed out of view.\n\t * This scrolling can not be prevented by hiding overflow in\n\t * CSS (we already do) so we have to resort to repeatedly\n\t * checking if the slides have been offset :(\n\t */\n\tfunction setupScrollPrevention() {\n\n\t\tsetInterval( function() {\n\t\t\tif( dom.wrapper.scrollTop !== 0 || dom.wrapper.scrollLeft !== 0 ) {\n\t\t\t\tdom.wrapper.scrollTop = 0;\n\t\t\t\tdom.wrapper.scrollLeft = 0;\n\t\t\t}\n\t\t}, 1000 );\n\n\t}\n\n\t/**\n\t * Creates an HTML element and returns a reference to it.\n\t * If the element already exists the existing instance will\n\t * be returned.\n\t *\n\t * @param {HTMLElement} container\n\t * @param {string} tagname\n\t * @param {string} classname\n\t * @param {string} innerHTML\n\t *\n\t * @return {HTMLElement}\n\t */\n\tfunction createSingletonNode( container, tagname, classname, innerHTML ) {\n\n\t\t// Find all nodes matching the description\n\t\tvar nodes = container.querySelectorAll( '.' + classname );\n\n\t\t// Check all matches to find one which is a direct child of\n\t\t// the specified container\n\t\tfor( var i = 0; i < nodes.length; i++ ) {\n\t\t\tvar testNode = nodes[i];\n\t\t\tif( testNode.parentNode === container ) {\n\t\t\t\treturn testNode;\n\t\t\t}\n\t\t}\n\n\t\t// If no node was found, create it now\n\t\tvar node = document.createElement( tagname );\n\t\tnode.classList.add( classname );\n\t\tif( typeof innerHTML === 'string' ) {\n\t\t\tnode.innerHTML = innerHTML;\n\t\t}\n\t\tcontainer.appendChild( node );\n\n\t\treturn node;\n\n\t}\n\n\t/**\n\t * Creates the slide background elements and appends them\n\t * to the background container. One element is created per\n\t * slide no matter if the given slide has visible background.\n\t */\n\tfunction createBackgrounds() {\n\n\t\tvar printMode = isPrintingPDF();\n\n\t\t// Clear prior backgrounds\n\t\tdom.background.innerHTML = '';\n\t\tdom.background.classList.add( 'no-transition' );\n\n\t\t// Iterate over all horizontal slides\n\t\ttoArray( dom.wrapper.querySelectorAll( HORIZONTAL_SLIDES_SELECTOR ) ).forEach( function( slideh ) {\n\n\t\t\tvar backgroundStack = createBackground( slideh, dom.background );\n\n\t\t\t// Iterate over all vertical slides\n\t\t\ttoArray( slideh.querySelectorAll( 'section' ) ).forEach( function( slidev ) {\n\n\t\t\t\tcreateBackground( slidev, backgroundStack );\n\n\t\t\t\tbackgroundStack.classList.add( 'stack' );\n\n\t\t\t} );\n\n\t\t} );\n\n\t\t// Add parallax background if specified\n\t\tif( config.parallaxBackgroundImage ) {\n\n\t\t\tdom.background.style.backgroundImage = 'url(\"' + config.parallaxBackgroundImage + '\")';\n\t\t\tdom.background.style.backgroundSize = config.parallaxBackgroundSize;\n\n\t\t\t// Make sure the below properties are set on the element - these properties are\n\t\t\t// needed for proper transitions to be set on the element via CSS. To remove\n\t\t\t// annoying background slide-in effect when the presentation starts, apply\n\t\t\t// these properties after short time delay\n\t\t\tsetTimeout( function() {\n\t\t\t\tdom.wrapper.classList.add( 'has-parallax-background' );\n\t\t\t}, 1 );\n\n\t\t}\n\t\telse {\n\n\t\t\tdom.background.style.backgroundImage = '';\n\t\t\tdom.wrapper.classList.remove( 'has-parallax-background' );\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Creates a background for the given slide.\n\t *\n\t * @param {HTMLElement} slide\n\t * @param {HTMLElement} container The element that the background\n\t * should be appended to\n\t * @return {HTMLElement} New background div\n\t */\n\tfunction createBackground( slide, container ) {\n\n\t\tvar data = {\n\t\t\tbackground: slide.getAttribute( 'data-background' ),\n\t\t\tbackgroundSize: slide.getAttribute( 'data-background-size' ),\n\t\t\tbackgroundImage: slide.getAttribute( 'data-background-image' ),\n\t\t\tbackgroundVideo: slide.getAttribute( 'data-background-video' ),\n\t\t\tbackgroundIframe: slide.getAttribute( 'data-background-iframe' ),\n\t\t\tbackgroundColor: slide.getAttribute( 'data-background-color' ),\n\t\t\tbackgroundRepeat: slide.getAttribute( 'data-background-repeat' ),\n\t\t\tbackgroundPosition: slide.getAttribute( 'data-background-position' ),\n\t\t\tbackgroundTransition: slide.getAttribute( 'data-background-transition' )\n\t\t};\n\n\t\tvar element = document.createElement( 'div' );\n\n\t\t// Carry over custom classes from the slide to the background\n\t\telement.className = 'slide-background ' + slide.className.replace( /present|past|future/, '' );\n\n\t\tif( data.background ) {\n\t\t\t// Auto-wrap image urls in url(...)\n\t\t\tif( /^(http|file|\\/\\/)/gi.test( data.background ) || /\\.(svg|png|jpg|jpeg|gif|bmp)$/gi.test( data.background ) ) {\n\t\t\t\tslide.setAttribute( 'data-background-image', data.background );\n\t\t\t}\n\t\t\telse {\n\t\t\t\telement.style.background = data.background;\n\t\t\t}\n\t\t}\n\n\t\t// Create a hash for this combination of background settings.\n\t\t// This is used to determine when two slide backgrounds are\n\t\t// the same.\n\t\tif( data.background || data.backgroundColor || data.backgroundImage || data.backgroundVideo || data.backgroundIframe ) {\n\t\t\telement.setAttribute( 'data-background-hash', data.background +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata.backgroundSize +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata.backgroundImage +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata.backgroundVideo +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata.backgroundIframe +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata.backgroundColor +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata.backgroundRepeat +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata.backgroundPosition +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata.backgroundTransition );\n\t\t}\n\n\t\t// Additional and optional background properties\n\t\tif( data.backgroundSize ) element.style.backgroundSize = data.backgroundSize;\n\t\tif( data.backgroundColor ) element.style.backgroundColor = data.backgroundColor;\n\t\tif( data.backgroundRepeat ) element.style.backgroundRepeat = data.backgroundRepeat;\n\t\tif( data.backgroundPosition ) element.style.backgroundPosition = data.backgroundPosition;\n\t\tif( data.backgroundTransition ) element.setAttribute( 'data-background-transition', data.backgroundTransition );\n\n\t\tcontainer.appendChild( element );\n\n\t\t// If backgrounds are being recreated, clear old classes\n\t\tslide.classList.remove( 'has-dark-background' );\n\t\tslide.classList.remove( 'has-light-background' );\n\n\t\tslide.slideBackgroundElement = element;\n\n\t\t// If this slide has a background color, add a class that\n\t\t// signals if it is light or dark. If the slide has no background\n\t\t// color, no class will be set\n\t\tvar computedBackgroundStyle = window.getComputedStyle( element );\n\t\tif( computedBackgroundStyle && computedBackgroundStyle.backgroundColor ) {\n\t\t\tvar rgb = colorToRgb( computedBackgroundStyle.backgroundColor );\n\n\t\t\t// Ignore fully transparent backgrounds. Some browsers return\n\t\t\t// rgba(0,0,0,0) when reading the computed background color of\n\t\t\t// an element with no background\n\t\t\tif( rgb && rgb.a !== 0 ) {\n\t\t\t\tif( colorBrightness( computedBackgroundStyle.backgroundColor ) < 128 ) {\n\t\t\t\t\tslide.classList.add( 'has-dark-background' );\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tslide.classList.add( 'has-light-background' );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn element;\n\n\t}\n\n\t/**\n\t * Registers a listener to postMessage events, this makes it\n\t * possible to call all reveal.js API methods from another\n\t * window. For example:\n\t *\n\t * revealWindow.postMessage( JSON.stringify({\n\t *   method: 'slide',\n\t *   args: [ 2 ]\n\t * }), '*' );\n\t */\n\tfunction setupPostMessage() {\n\n\t\tif( config.postMessage ) {\n\t\t\twindow.addEventListener( 'message', function ( event ) {\n\t\t\t\tvar data = event.data;\n\n\t\t\t\t// Make sure we're dealing with JSON\n\t\t\t\tif( typeof data === 'string' && data.charAt( 0 ) === '{' && data.charAt( data.length - 1 ) === '}' ) {\n\t\t\t\t\tdata = JSON.parse( data );\n\n\t\t\t\t\t// Check if the requested method can be found\n\t\t\t\t\tif( data.method && typeof Reveal[data.method] === 'function' ) {\n\t\t\t\t\t\tReveal[data.method].apply( Reveal, data.args );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, false );\n\t\t}\n\n\t}\n\n\t/**\n\t * Applies the configuration settings from the config\n\t * object. May be called multiple times.\n\t *\n\t * @param {object} options\n\t */\n\tfunction configure( options ) {\n\n\t\tvar numberOfSlides = dom.wrapper.querySelectorAll( SLIDES_SELECTOR ).length;\n\n\t\tdom.wrapper.classList.remove( config.transition );\n\n\t\t// New config options may be passed when this method\n\t\t// is invoked through the API after initialization\n\t\tif( typeof options === 'object' ) extend( config, options );\n\n\t\t// Force linear transition based on browser capabilities\n\t\tif( features.transforms3d === false ) config.transition = 'linear';\n\n\t\tdom.wrapper.classList.add( config.transition );\n\n\t\tdom.wrapper.setAttribute( 'data-transition-speed', config.transitionSpeed );\n\t\tdom.wrapper.setAttribute( 'data-background-transition', config.backgroundTransition );\n\n\t\tdom.controls.style.display = config.controls ? 'block' : 'none';\n\t\tdom.progress.style.display = config.progress ? 'block' : 'none';\n\t\tdom.slideNumber.style.display = config.slideNumber && !isPrintingPDF() ? 'block' : 'none';\n\n\t\tif( config.shuffle ) {\n\t\t\tshuffle();\n\t\t}\n\n\t\tif( config.rtl ) {\n\t\t\tdom.wrapper.classList.add( 'rtl' );\n\t\t}\n\t\telse {\n\t\t\tdom.wrapper.classList.remove( 'rtl' );\n\t\t}\n\n\t\tif( config.center ) {\n\t\t\tdom.wrapper.classList.add( 'center' );\n\t\t}\n\t\telse {\n\t\t\tdom.wrapper.classList.remove( 'center' );\n\t\t}\n\n\t\t// Exit the paused mode if it was configured off\n\t\tif( config.pause === false ) {\n\t\t\tresume();\n\t\t}\n\n\t\tif( config.showNotes ) {\n\t\t\tdom.speakerNotes.classList.add( 'visible' );\n\t\t\tdom.speakerNotes.setAttribute( 'data-layout', typeof config.showNotes === 'string' ? config.showNotes : 'inline' );\n\t\t}\n\t\telse {\n\t\t\tdom.speakerNotes.classList.remove( 'visible' );\n\t\t}\n\n\t\tif( config.mouseWheel ) {\n\t\t\tdocument.addEventListener( 'DOMMouseScroll', onDocumentMouseScroll, false ); // FF\n\t\t\tdocument.addEventListener( 'mousewheel', onDocumentMouseScroll, false );\n\t\t}\n\t\telse {\n\t\t\tdocument.removeEventListener( 'DOMMouseScroll', onDocumentMouseScroll, false ); // FF\n\t\t\tdocument.removeEventListener( 'mousewheel', onDocumentMouseScroll, false );\n\t\t}\n\n\t\t// Rolling 3D links\n\t\tif( config.rollingLinks ) {\n\t\t\tenableRollingLinks();\n\t\t}\n\t\telse {\n\t\t\tdisableRollingLinks();\n\t\t}\n\n\t\t// Iframe link previews\n\t\tif( config.previewLinks ) {\n\t\t\tenablePreviewLinks();\n\t\t}\n\t\telse {\n\t\t\tdisablePreviewLinks();\n\t\t\tenablePreviewLinks( '[data-preview-link]' );\n\t\t}\n\n\t\t// Remove existing auto-slide controls\n\t\tif( autoSlidePlayer ) {\n\t\t\tautoSlidePlayer.destroy();\n\t\t\tautoSlidePlayer = null;\n\t\t}\n\n\t\t// Generate auto-slide controls if needed\n\t\tif( numberOfSlides > 1 && config.autoSlide && config.autoSlideStoppable && features.canvas && features.requestAnimationFrame ) {\n\t\t\tautoSlidePlayer = new Playback( dom.wrapper, function() {\n\t\t\t\treturn Math.min( Math.max( ( Date.now() - autoSlideStartTime ) / autoSlide, 0 ), 1 );\n\t\t\t} );\n\n\t\t\tautoSlidePlayer.on( 'click', onAutoSlidePlayerClick );\n\t\t\tautoSlidePaused = false;\n\t\t}\n\n\t\t// When fragments are turned off they should be visible\n\t\tif( config.fragments === false ) {\n\t\t\ttoArray( dom.slides.querySelectorAll( '.fragment' ) ).forEach( function( element ) {\n\t\t\t\telement.classList.add( 'visible' );\n\t\t\t\telement.classList.remove( 'current-fragment' );\n\t\t\t} );\n\t\t}\n\n\t\tsync();\n\n\t}\n\n\t/**\n\t * Binds all event listeners.\n\t */\n\tfunction addEventListeners() {\n\n\t\teventsAreBound = true;\n\n\t\twindow.addEventListener( 'hashchange', onWindowHashChange, false );\n\t\twindow.addEventListener( 'resize', onWindowResize, false );\n\n\t\tif( config.touch ) {\n\t\t\tdom.wrapper.addEventListener( 'touchstart', onTouchStart, false );\n\t\t\tdom.wrapper.addEventListener( 'touchmove', onTouchMove, false );\n\t\t\tdom.wrapper.addEventListener( 'touchend', onTouchEnd, false );\n\n\t\t\t// Support pointer-style touch interaction as well\n\t\t\tif( window.navigator.pointerEnabled ) {\n\t\t\t\t// IE 11 uses un-prefixed version of pointer events\n\t\t\t\tdom.wrapper.addEventListener( 'pointerdown', onPointerDown, false );\n\t\t\t\tdom.wrapper.addEventListener( 'pointermove', onPointerMove, false );\n\t\t\t\tdom.wrapper.addEventListener( 'pointerup', onPointerUp, false );\n\t\t\t}\n\t\t\telse if( window.navigator.msPointerEnabled ) {\n\t\t\t\t// IE 10 uses prefixed version of pointer events\n\t\t\t\tdom.wrapper.addEventListener( 'MSPointerDown', onPointerDown, false );\n\t\t\t\tdom.wrapper.addEventListener( 'MSPointerMove', onPointerMove, false );\n\t\t\t\tdom.wrapper.addEventListener( 'MSPointerUp', onPointerUp, false );\n\t\t\t}\n\t\t}\n\n\t\tif( config.keyboard ) {\n\t\t\tdocument.addEventListener( 'keydown', onDocumentKeyDown, false );\n\t\t\tdocument.addEventListener( 'keypress', onDocumentKeyPress, false );\n\t\t}\n\n\t\tif( config.progress && dom.progress ) {\n\t\t\tdom.progress.addEventListener( 'click', onProgressClicked, false );\n\t\t}\n\n\t\tif( config.focusBodyOnPageVisibilityChange ) {\n\t\t\tvar visibilityChange;\n\n\t\t\tif( 'hidden' in document ) {\n\t\t\t\tvisibilityChange = 'visibilitychange';\n\t\t\t}\n\t\t\telse if( 'msHidden' in document ) {\n\t\t\t\tvisibilityChange = 'msvisibilitychange';\n\t\t\t}\n\t\t\telse if( 'webkitHidden' in document ) {\n\t\t\t\tvisibilityChange = 'webkitvisibilitychange';\n\t\t\t}\n\n\t\t\tif( visibilityChange ) {\n\t\t\t\tdocument.addEventListener( visibilityChange, onPageVisibilityChange, false );\n\t\t\t}\n\t\t}\n\n\t\t// Listen to both touch and click events, in case the device\n\t\t// supports both\n\t\tvar pointerEvents = [ 'touchstart', 'click' ];\n\n\t\t// Only support touch for Android, fixes double navigations in\n\t\t// stock browser\n\t\tif( UA.match( /android/gi ) ) {\n\t\t\tpointerEvents = [ 'touchstart' ];\n\t\t}\n\n\t\tpointerEvents.forEach( function( eventName ) {\n\t\t\tdom.controlsLeft.forEach( function( el ) { el.addEventListener( eventName, onNavigateLeftClicked, false ); } );\n\t\t\tdom.controlsRight.forEach( function( el ) { el.addEventListener( eventName, onNavigateRightClicked, false ); } );\n\t\t\tdom.controlsUp.forEach( function( el ) { el.addEventListener( eventName, onNavigateUpClicked, false ); } );\n\t\t\tdom.controlsDown.forEach( function( el ) { el.addEventListener( eventName, onNavigateDownClicked, false ); } );\n\t\t\tdom.controlsPrev.forEach( function( el ) { el.addEventListener( eventName, onNavigatePrevClicked, false ); } );\n\t\t\tdom.controlsNext.forEach( function( el ) { el.addEventListener( eventName, onNavigateNextClicked, false ); } );\n\t\t} );\n\n\t}\n\n\t/**\n\t * Unbinds all event listeners.\n\t */\n\tfunction removeEventListeners() {\n\n\t\teventsAreBound = false;\n\n\t\tdocument.removeEventListener( 'keydown', onDocumentKeyDown, false );\n\t\tdocument.removeEventListener( 'keypress', onDocumentKeyPress, false );\n\t\twindow.removeEventListener( 'hashchange', onWindowHashChange, false );\n\t\twindow.removeEventListener( 'resize', onWindowResize, false );\n\n\t\tdom.wrapper.removeEventListener( 'touchstart', onTouchStart, false );\n\t\tdom.wrapper.removeEventListener( 'touchmove', onTouchMove, false );\n\t\tdom.wrapper.removeEventListener( 'touchend', onTouchEnd, false );\n\n\t\t// IE11\n\t\tif( window.navigator.pointerEnabled ) {\n\t\t\tdom.wrapper.removeEventListener( 'pointerdown', onPointerDown, false );\n\t\t\tdom.wrapper.removeEventListener( 'pointermove', onPointerMove, false );\n\t\t\tdom.wrapper.removeEventListener( 'pointerup', onPointerUp, false );\n\t\t}\n\t\t// IE10\n\t\telse if( window.navigator.msPointerEnabled ) {\n\t\t\tdom.wrapper.removeEventListener( 'MSPointerDown', onPointerDown, false );\n\t\t\tdom.wrapper.removeEventListener( 'MSPointerMove', onPointerMove, false );\n\t\t\tdom.wrapper.removeEventListener( 'MSPointerUp', onPointerUp, false );\n\t\t}\n\n\t\tif ( config.progress && dom.progress ) {\n\t\t\tdom.progress.removeEventListener( 'click', onProgressClicked, false );\n\t\t}\n\n\t\t[ 'touchstart', 'click' ].forEach( function( eventName ) {\n\t\t\tdom.controlsLeft.forEach( function( el ) { el.removeEventListener( eventName, onNavigateLeftClicked, false ); } );\n\t\t\tdom.controlsRight.forEach( function( el ) { el.removeEventListener( eventName, onNavigateRightClicked, false ); } );\n\t\t\tdom.controlsUp.forEach( function( el ) { el.removeEventListener( eventName, onNavigateUpClicked, false ); } );\n\t\t\tdom.controlsDown.forEach( function( el ) { el.removeEventListener( eventName, onNavigateDownClicked, false ); } );\n\t\t\tdom.controlsPrev.forEach( function( el ) { el.removeEventListener( eventName, onNavigatePrevClicked, false ); } );\n\t\t\tdom.controlsNext.forEach( function( el ) { el.removeEventListener( eventName, onNavigateNextClicked, false ); } );\n\t\t} );\n\n\t}\n\n\t/**\n\t * Extend object a with the properties of object b.\n\t * If there's a conflict, object b takes precedence.\n\t *\n\t * @param {object} a\n\t * @param {object} b\n\t */\n\tfunction extend( a, b ) {\n\n\t\tfor( var i in b ) {\n\t\t\ta[ i ] = b[ i ];\n\t\t}\n\n\t}\n\n\t/**\n\t * Converts the target object to an array.\n\t *\n\t * @param {object} o\n\t * @return {object[]}\n\t */\n\tfunction toArray( o ) {\n\n\t\treturn Array.prototype.slice.call( o );\n\n\t}\n\n\t/**\n\t * Utility for deserializing a value.\n\t *\n\t * @param {*} value\n\t * @return {*}\n\t */\n\tfunction deserialize( value ) {\n\n\t\tif( typeof value === 'string' ) {\n\t\t\tif( value === 'null' ) return null;\n\t\t\telse if( value === 'true' ) return true;\n\t\t\telse if( value === 'false' ) return false;\n\t\t\telse if( value.match( /^\\d+$/ ) ) return parseFloat( value );\n\t\t}\n\n\t\treturn value;\n\n\t}\n\n\t/**\n\t * Measures the distance in pixels between point a\n\t * and point b.\n\t *\n\t * @param {object} a point with x/y properties\n\t * @param {object} b point with x/y properties\n\t *\n\t * @return {number}\n\t */\n\tfunction distanceBetween( a, b ) {\n\n\t\tvar dx = a.x - b.x,\n\t\t\tdy = a.y - b.y;\n\n\t\treturn Math.sqrt( dx*dx + dy*dy );\n\n\t}\n\n\t/**\n\t * Applies a CSS transform to the target element.\n\t *\n\t * @param {HTMLElement} element\n\t * @param {string} transform\n\t */\n\tfunction transformElement( element, transform ) {\n\n\t\telement.style.WebkitTransform = transform;\n\t\telement.style.MozTransform = transform;\n\t\telement.style.msTransform = transform;\n\t\telement.style.transform = transform;\n\n\t}\n\n\t/**\n\t * Applies CSS transforms to the slides container. The container\n\t * is transformed from two separate sources: layout and the overview\n\t * mode.\n\t *\n\t * @param {object} transforms\n\t */\n\tfunction transformSlides( transforms ) {\n\n\t\t// Pick up new transforms from arguments\n\t\tif( typeof transforms.layout === 'string' ) slidesTransform.layout = transforms.layout;\n\t\tif( typeof transforms.overview === 'string' ) slidesTransform.overview = transforms.overview;\n\n\t\t// Apply the transforms to the slides container\n\t\tif( slidesTransform.layout ) {\n\t\t\ttransformElement( dom.slides, slidesTransform.layout + ' ' + slidesTransform.overview );\n\t\t}\n\t\telse {\n\t\t\ttransformElement( dom.slides, slidesTransform.overview );\n\t\t}\n\n\t}\n\n\t/**\n\t * Injects the given CSS styles into the DOM.\n\t *\n\t * @param {string} value\n\t */\n\tfunction injectStyleSheet( value ) {\n\n\t\tvar tag = document.createElement( 'style' );\n\t\ttag.type = 'text/css';\n\t\tif( tag.styleSheet ) {\n\t\t\ttag.styleSheet.cssText = value;\n\t\t}\n\t\telse {\n\t\t\ttag.appendChild( document.createTextNode( value ) );\n\t\t}\n\t\tdocument.getElementsByTagName( 'head' )[0].appendChild( tag );\n\n\t}\n\n\t/**\n\t * Find the closest parent that matches the given\n\t * selector.\n\t *\n\t * @param {HTMLElement} target The child element\n\t * @param {String} selector The CSS selector to match\n\t * the parents against\n\t *\n\t * @return {HTMLElement} The matched parent or null\n\t * if no matching parent was found\n\t */\n\tfunction closestParent( target, selector ) {\n\n\t\tvar parent = target.parentNode;\n\n\t\twhile( parent ) {\n\n\t\t\t// There's some overhead doing this each time, we don't\n\t\t\t// want to rewrite the element prototype but should still\n\t\t\t// be enough to feature detect once at startup...\n\t\t\tvar matchesMethod = parent.matches || parent.matchesSelector || parent.msMatchesSelector;\n\n\t\t\t// If we find a match, we're all set\n\t\t\tif( matchesMethod && matchesMethod.call( parent, selector ) ) {\n\t\t\t\treturn parent;\n\t\t\t}\n\n\t\t\t// Keep searching\n\t\t\tparent = parent.parentNode;\n\n\t\t}\n\n\t\treturn null;\n\n\t}\n\n\t/**\n\t * Converts various color input formats to an {r:0,g:0,b:0} object.\n\t *\n\t * @param {string} color The string representation of a color\n\t * @example\n\t * colorToRgb('#000');\n\t * @example\n\t * colorToRgb('#000000');\n\t * @example\n\t * colorToRgb('rgb(0,0,0)');\n\t * @example\n\t * colorToRgb('rgba(0,0,0)');\n\t *\n\t * @return {{r: number, g: number, b: number, [a]: number}|null}\n\t */\n\tfunction colorToRgb( color ) {\n\n\t\tvar hex3 = color.match( /^#([0-9a-f]{3})$/i );\n\t\tif( hex3 && hex3[1] ) {\n\t\t\thex3 = hex3[1];\n\t\t\treturn {\n\t\t\t\tr: parseInt( hex3.charAt( 0 ), 16 ) * 0x11,\n\t\t\t\tg: parseInt( hex3.charAt( 1 ), 16 ) * 0x11,\n\t\t\t\tb: parseInt( hex3.charAt( 2 ), 16 ) * 0x11\n\t\t\t};\n\t\t}\n\n\t\tvar hex6 = color.match( /^#([0-9a-f]{6})$/i );\n\t\tif( hex6 && hex6[1] ) {\n\t\t\thex6 = hex6[1];\n\t\t\treturn {\n\t\t\t\tr: parseInt( hex6.substr( 0, 2 ), 16 ),\n\t\t\t\tg: parseInt( hex6.substr( 2, 2 ), 16 ),\n\t\t\t\tb: parseInt( hex6.substr( 4, 2 ), 16 )\n\t\t\t};\n\t\t}\n\n\t\tvar rgb = color.match( /^rgb\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\)$/i );\n\t\tif( rgb ) {\n\t\t\treturn {\n\t\t\t\tr: parseInt( rgb[1], 10 ),\n\t\t\t\tg: parseInt( rgb[2], 10 ),\n\t\t\t\tb: parseInt( rgb[3], 10 )\n\t\t\t};\n\t\t}\n\n\t\tvar rgba = color.match( /^rgba\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\,\\s*([\\d]+|[\\d]*.[\\d]+)\\s*\\)$/i );\n\t\tif( rgba ) {\n\t\t\treturn {\n\t\t\t\tr: parseInt( rgba[1], 10 ),\n\t\t\t\tg: parseInt( rgba[2], 10 ),\n\t\t\t\tb: parseInt( rgba[3], 10 ),\n\t\t\t\ta: parseFloat( rgba[4] )\n\t\t\t};\n\t\t}\n\n\t\treturn null;\n\n\t}\n\n\t/**\n\t * Calculates brightness on a scale of 0-255.\n\t *\n\t * @param {string} color See colorToRgb for supported formats.\n\t * @see {@link colorToRgb}\n\t */\n\tfunction colorBrightness( color ) {\n\n\t\tif( typeof color === 'string' ) color = colorToRgb( color );\n\n\t\tif( color ) {\n\t\t\treturn ( color.r * 299 + color.g * 587 + color.b * 114 ) / 1000;\n\t\t}\n\n\t\treturn null;\n\n\t}\n\n\t/**\n\t * Returns the remaining height within the parent of the\n\t * target element.\n\t *\n\t * remaining height = [ configured parent height ] - [ current parent height ]\n\t * \n\t * @param {HTMLElement} element\n\t * @param {number} [height]\n\t */\n\tfunction getRemainingHeight( element, height ) {\n\n\t\theight = height || 0;\n\n\t\tif( element ) {\n\t\t\tvar newHeight, oldHeight = element.style.height;\n\n\t\t\t// Change the .stretch element height to 0 in order find the height of all\n\t\t\t// the other elements\n\t\t\telement.style.height = '0px';\n\t\t\tnewHeight = height - element.parentNode.offsetHeight;\n\n\t\t\t// Restore the old height, just in case\n\t\t\telement.style.height = oldHeight + 'px';\n\n\t\t\treturn newHeight;\n\t\t}\n\n\t\treturn height;\n\n\t}\n\n\t/**\n\t * Checks if this instance is being used to print a PDF.\n\t */\n\tfunction isPrintingPDF() {\n\n\t\treturn ( /print-pdf/gi ).test( window.location.search );\n\n\t}\n\n\t/**\n\t * Hides the address bar if we're on a mobile device.\n\t */\n\tfunction hideAddressBar() {\n\n\t\tif( config.hideAddressBar && isMobileDevice ) {\n\t\t\t// Events that should trigger the address bar to hide\n\t\t\twindow.addEventListener( 'load', removeAddressBar, false );\n\t\t\twindow.addEventListener( 'orientationchange', removeAddressBar, false );\n\t\t}\n\n\t}\n\n\t/**\n\t * Causes the address bar to hide on mobile devices,\n\t * more vertical space ftw.\n\t */\n\tfunction removeAddressBar() {\n\n\t\tsetTimeout( function() {\n\t\t\twindow.scrollTo( 0, 1 );\n\t\t}, 10 );\n\n\t}\n\n\t/**\n\t * Dispatches an event of the specified type from the\n\t * reveal DOM element.\n\t */\n\tfunction dispatchEvent( type, args ) {\n\n\t\tvar event = document.createEvent( 'HTMLEvents', 1, 2 );\n\t\tevent.initEvent( type, true, true );\n\t\textend( event, args );\n\t\tdom.wrapper.dispatchEvent( event );\n\n\t\t// If we're in an iframe, post each reveal.js event to the\n\t\t// parent window. Used by the notes plugin\n\t\tif( config.postMessageEvents && window.parent !== window.self ) {\n\t\t\twindow.parent.postMessage( JSON.stringify({ namespace: 'reveal', eventName: type, state: getState() }), '*' );\n\t\t}\n\n\t}\n\n\t/**\n\t * Wrap all links in 3D goodness.\n\t */\n\tfunction enableRollingLinks() {\n\n\t\tif( features.transforms3d && !( 'msPerspective' in document.body.style ) ) {\n\t\t\tvar anchors = dom.wrapper.querySelectorAll( SLIDES_SELECTOR + ' a' );\n\n\t\t\tfor( var i = 0, len = anchors.length; i < len; i++ ) {\n\t\t\t\tvar anchor = anchors[i];\n\n\t\t\t\tif( anchor.textContent && !anchor.querySelector( '*' ) && ( !anchor.className || !anchor.classList.contains( anchor, 'roll' ) ) ) {\n\t\t\t\t\tvar span = document.createElement('span');\n\t\t\t\t\tspan.setAttribute('data-title', anchor.text);\n\t\t\t\t\tspan.innerHTML = anchor.innerHTML;\n\n\t\t\t\t\tanchor.classList.add( 'roll' );\n\t\t\t\t\tanchor.innerHTML = '';\n\t\t\t\t\tanchor.appendChild(span);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t}\n\n\t/**\n\t * Unwrap all 3D links.\n\t */\n\tfunction disableRollingLinks() {\n\n\t\tvar anchors = dom.wrapper.querySelectorAll( SLIDES_SELECTOR + ' a.roll' );\n\n\t\tfor( var i = 0, len = anchors.length; i < len; i++ ) {\n\t\t\tvar anchor = anchors[i];\n\t\t\tvar span = anchor.querySelector( 'span' );\n\n\t\t\tif( span ) {\n\t\t\t\tanchor.classList.remove( 'roll' );\n\t\t\t\tanchor.innerHTML = span.innerHTML;\n\t\t\t}\n\t\t}\n\n\t}\n\n\t/**\n\t * Bind preview frame links.\n\t *\n\t * @param {string} [selector=a] - selector for anchors\n\t */\n\tfunction enablePreviewLinks( selector ) {\n\n\t\tvar anchors = toArray( document.querySelectorAll( selector ? selector : 'a' ) );\n\n\t\tanchors.forEach( function( element ) {\n\t\t\tif( /^(http|www)/gi.test( element.getAttribute( 'href' ) ) ) {\n\t\t\t\telement.addEventListener( 'click', onPreviewLinkClicked, false );\n\t\t\t}\n\t\t} );\n\n\t}\n\n\t/**\n\t * Unbind preview frame links.\n\t */\n\tfunction disablePreviewLinks() {\n\n\t\tvar anchors = toArray( document.querySelectorAll( 'a' ) );\n\n\t\tanchors.forEach( function( element ) {\n\t\t\tif( /^(http|www)/gi.test( element.getAttribute( 'href' ) ) ) {\n\t\t\t\telement.removeEventListener( 'click', onPreviewLinkClicked, false );\n\t\t\t}\n\t\t} );\n\n\t}\n\n\t/**\n\t * Opens a preview window for the target URL.\n\t *\n\t * @param {string} url - url for preview iframe src\n\t */\n\tfunction showPreview( url ) {\n\n\t\tcloseOverlay();\n\n\t\tdom.overlay = document.createElement( 'div' );\n\t\tdom.overlay.classList.add( 'overlay' );\n\t\tdom.overlay.classList.add( 'overlay-preview' );\n\t\tdom.wrapper.appendChild( dom.overlay );\n\n\t\tdom.overlay.innerHTML = [\n\t\t\t'<header>',\n\t\t\t\t'<a class=\"close\" href=\"#\"><span class=\"icon\"></span></a>',\n\t\t\t\t'<a class=\"external\" href=\"'+ url +'\" target=\"_blank\"><span class=\"icon\"></span></a>',\n\t\t\t'</header>',\n\t\t\t'<div class=\"spinner\"></div>',\n\t\t\t'<div class=\"viewport\">',\n\t\t\t\t'<iframe src=\"'+ url +'\"></iframe>',\n\t\t\t\t'<small class=\"viewport-inner\">',\n\t\t\t\t\t'<span class=\"x-frame-error\">Unable to load iframe. This is likely due to the site\\'s policy (x-frame-options).</span>',\n\t\t\t\t'</small>',\n\t\t\t'</div>'\n\t\t].join('');\n\n\t\tdom.overlay.querySelector( 'iframe' ).addEventListener( 'load', function( event ) {\n\t\t\tdom.overlay.classList.add( 'loaded' );\n\t\t}, false );\n\n\t\tdom.overlay.querySelector( '.close' ).addEventListener( 'click', function( event ) {\n\t\t\tcloseOverlay();\n\t\t\tevent.preventDefault();\n\t\t}, false );\n\n\t\tdom.overlay.querySelector( '.external' ).addEventListener( 'click', function( event ) {\n\t\t\tcloseOverlay();\n\t\t}, false );\n\n\t\tsetTimeout( function() {\n\t\t\tdom.overlay.classList.add( 'visible' );\n\t\t}, 1 );\n\n\t}\n\n\t/**\n\t * Opens an overlay window with help material.\n\t */\n\tfunction showHelp() {\n\n\t\tif( config.help ) {\n\n\t\t\tcloseOverlay();\n\n\t\t\tdom.overlay = document.createElement( 'div' );\n\t\t\tdom.overlay.classList.add( 'overlay' );\n\t\t\tdom.overlay.classList.add( 'overlay-help' );\n\t\t\tdom.wrapper.appendChild( dom.overlay );\n\n\t\t\tvar html = '<p class=\"title\">Keyboard Shortcuts</p><br/>';\n\n\t\t\thtml += '<table><th>KEY</th><th>ACTION</th>';\n\t\t\tfor( var key in keyboardShortcuts ) {\n\t\t\t\thtml += '<tr><td>' + key + '</td><td>' + keyboardShortcuts[ key ] + '</td></tr>';\n\t\t\t}\n\n\t\t\thtml += '</table>';\n\n\t\t\tdom.overlay.innerHTML = [\n\t\t\t\t'<header>',\n\t\t\t\t\t'<a class=\"close\" href=\"#\"><span class=\"icon\"></span></a>',\n\t\t\t\t'</header>',\n\t\t\t\t'<div class=\"viewport\">',\n\t\t\t\t\t'<div class=\"viewport-inner\">'+ html +'</div>',\n\t\t\t\t'</div>'\n\t\t\t].join('');\n\n\t\t\tdom.overlay.querySelector( '.close' ).addEventListener( 'click', function( event ) {\n\t\t\t\tcloseOverlay();\n\t\t\t\tevent.preventDefault();\n\t\t\t}, false );\n\n\t\t\tsetTimeout( function() {\n\t\t\t\tdom.overlay.classList.add( 'visible' );\n\t\t\t}, 1 );\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Closes any currently open overlay.\n\t */\n\tfunction closeOverlay() {\n\n\t\tif( dom.overlay ) {\n\t\t\tdom.overlay.parentNode.removeChild( dom.overlay );\n\t\t\tdom.overlay = null;\n\t\t}\n\n\t}\n\n\t/**\n\t * Applies JavaScript-controlled layout rules to the\n\t * presentation.\n\t */\n\tfunction layout() {\n\n\t\tif( dom.wrapper && !isPrintingPDF() ) {\n\n\t\t\tvar size = getComputedSlideSize();\n\n\t\t\t// Layout the contents of the slides\n\t\t\tlayoutSlideContents( config.width, config.height );\n\n\t\t\tdom.slides.style.width = size.width + 'px';\n\t\t\tdom.slides.style.height = size.height + 'px';\n\n\t\t\t// Determine scale of content to fit within available space\n\t\t\tscale = Math.min( size.presentationWidth / size.width, size.presentationHeight / size.height );\n\n\t\t\t// Respect max/min scale settings\n\t\t\tscale = Math.max( scale, config.minScale );\n\t\t\tscale = Math.min( scale, config.maxScale );\n\n\t\t\t// Don't apply any scaling styles if scale is 1\n\t\t\tif( scale === 1 ) {\n\t\t\t\tdom.slides.style.zoom = '';\n\t\t\t\tdom.slides.style.left = '';\n\t\t\t\tdom.slides.style.top = '';\n\t\t\t\tdom.slides.style.bottom = '';\n\t\t\t\tdom.slides.style.right = '';\n\t\t\t\ttransformSlides( { layout: '' } );\n\t\t\t}\n\t\t\telse {\n\t\t\t\t// Prefer zoom for scaling up so that content remains crisp.\n\t\t\t\t// Don't use zoom to scale down since that can lead to shifts\n\t\t\t\t// in text layout/line breaks.\n\t\t\t\tif( scale > 1 && features.zoom ) {\n\t\t\t\t\tdom.slides.style.zoom = scale;\n\t\t\t\t\tdom.slides.style.left = '';\n\t\t\t\t\tdom.slides.style.top = '';\n\t\t\t\t\tdom.slides.style.bottom = '';\n\t\t\t\t\tdom.slides.style.right = '';\n\t\t\t\t\ttransformSlides( { layout: '' } );\n\t\t\t\t}\n\t\t\t\t// Apply scale transform as a fallback\n\t\t\t\telse {\n\t\t\t\t\tdom.slides.style.zoom = '';\n\t\t\t\t\tdom.slides.style.left = '50%';\n\t\t\t\t\tdom.slides.style.top = '50%';\n\t\t\t\t\tdom.slides.style.bottom = 'auto';\n\t\t\t\t\tdom.slides.style.right = 'auto';\n\t\t\t\t\ttransformSlides( { layout: 'translate(-50%, -50%) scale('+ scale +')' } );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Select all slides, vertical and horizontal\n\t\t\tvar slides = toArray( dom.wrapper.querySelectorAll( SLIDES_SELECTOR ) );\n\n\t\t\tfor( var i = 0, len = slides.length; i < len; i++ ) {\n\t\t\t\tvar slide = slides[ i ];\n\n\t\t\t\t// Don't bother updating invisible slides\n\t\t\t\tif( slide.style.display === 'none' ) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tif( config.center || slide.classList.contains( 'center' ) ) {\n\t\t\t\t\t// Vertical stacks are not centred since their section\n\t\t\t\t\t// children will be\n\t\t\t\t\tif( slide.classList.contains( 'stack' ) ) {\n\t\t\t\t\t\tslide.style.top = 0;\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tslide.style.top = Math.max( ( size.height - slide.scrollHeight ) / 2, 0 ) + 'px';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tslide.style.top = '';\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tupdateProgress();\n\t\t\tupdateParallax();\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Applies layout logic to the contents of all slides in\n\t * the presentation.\n\t *\n\t * @param {string|number} width\n\t * @param {string|number} height\n\t */\n\tfunction layoutSlideContents( width, height ) {\n\n\t\t// Handle sizing of elements with the 'stretch' class\n\t\ttoArray( dom.slides.querySelectorAll( 'section > .stretch' ) ).forEach( function( element ) {\n\n\t\t\t// Determine how much vertical space we can use\n\t\t\tvar remainingHeight = getRemainingHeight( element, height );\n\n\t\t\t// Consider the aspect ratio of media elements\n\t\t\tif( /(img|video)/gi.test( element.nodeName ) ) {\n\t\t\t\tvar nw = element.naturalWidth || element.videoWidth,\n\t\t\t\t\tnh = element.naturalHeight || element.videoHeight;\n\n\t\t\t\tvar es = Math.min( width / nw, remainingHeight / nh );\n\n\t\t\t\telement.style.width = ( nw * es ) + 'px';\n\t\t\t\telement.style.height = ( nh * es ) + 'px';\n\n\t\t\t}\n\t\t\telse {\n\t\t\t\telement.style.width = width + 'px';\n\t\t\t\telement.style.height = remainingHeight + 'px';\n\t\t\t}\n\n\t\t} );\n\n\t}\n\n\t/**\n\t * Calculates the computed pixel size of our slides. These\n\t * values are based on the width and height configuration\n\t * options.\n\t *\n\t * @param {number} [presentationWidth=dom.wrapper.offsetWidth]\n\t * @param {number} [presentationHeight=dom.wrapper.offsetHeight]\n\t */\n\tfunction getComputedSlideSize( presentationWidth, presentationHeight ) {\n\n\t\tvar size = {\n\t\t\t// Slide size\n\t\t\twidth: config.width,\n\t\t\theight: config.height,\n\n\t\t\t// Presentation size\n\t\t\tpresentationWidth: presentationWidth || dom.wrapper.offsetWidth,\n\t\t\tpresentationHeight: presentationHeight || dom.wrapper.offsetHeight\n\t\t};\n\n\t\t// Reduce available space by margin\n\t\tsize.presentationWidth -= ( size.presentationWidth * config.margin );\n\t\tsize.presentationHeight -= ( size.presentationHeight * config.margin );\n\n\t\t// Slide width may be a percentage of available width\n\t\tif( typeof size.width === 'string' && /%$/.test( size.width ) ) {\n\t\t\tsize.width = parseInt( size.width, 10 ) / 100 * size.presentationWidth;\n\t\t}\n\n\t\t// Slide height may be a percentage of available height\n\t\tif( typeof size.height === 'string' && /%$/.test( size.height ) ) {\n\t\t\tsize.height = parseInt( size.height, 10 ) / 100 * size.presentationHeight;\n\t\t}\n\n\t\treturn size;\n\n\t}\n\n\t/**\n\t * Stores the vertical index of a stack so that the same\n\t * vertical slide can be selected when navigating to and\n\t * from the stack.\n\t *\n\t * @param {HTMLElement} stack The vertical stack element\n\t * @param {string|number} [v=0] Index to memorize\n\t */\n\tfunction setPreviousVerticalIndex( stack, v ) {\n\n\t\tif( typeof stack === 'object' && typeof stack.setAttribute === 'function' ) {\n\t\t\tstack.setAttribute( 'data-previous-indexv', v || 0 );\n\t\t}\n\n\t}\n\n\t/**\n\t * Retrieves the vertical index which was stored using\n\t * #setPreviousVerticalIndex() or 0 if no previous index\n\t * exists.\n\t *\n\t * @param {HTMLElement} stack The vertical stack element\n\t */\n\tfunction getPreviousVerticalIndex( stack ) {\n\n\t\tif( typeof stack === 'object' && typeof stack.setAttribute === 'function' && stack.classList.contains( 'stack' ) ) {\n\t\t\t// Prefer manually defined start-indexv\n\t\t\tvar attributeName = stack.hasAttribute( 'data-start-indexv' ) ? 'data-start-indexv' : 'data-previous-indexv';\n\n\t\t\treturn parseInt( stack.getAttribute( attributeName ) || 0, 10 );\n\t\t}\n\n\t\treturn 0;\n\n\t}\n\n\t/**\n\t * Displays the overview of slides (quick nav) by scaling\n\t * down and arranging all slide elements.\n\t */\n\tfunction activateOverview() {\n\n\t\t// Only proceed if enabled in config\n\t\tif( config.overview && !isOverview() ) {\n\n\t\t\toverview = true;\n\n\t\t\tdom.wrapper.classList.add( 'overview' );\n\t\t\tdom.wrapper.classList.remove( 'overview-deactivating' );\n\n\t\t\tif( features.overviewTransitions ) {\n\t\t\t\tsetTimeout( function() {\n\t\t\t\t\tdom.wrapper.classList.add( 'overview-animated' );\n\t\t\t\t}, 1 );\n\t\t\t}\n\n\t\t\t// Don't auto-slide while in overview mode\n\t\t\tcancelAutoSlide();\n\n\t\t\t// Move the backgrounds element into the slide container to\n\t\t\t// that the same scaling is applied\n\t\t\tdom.slides.appendChild( dom.background );\n\n\t\t\t// Clicking on an overview slide navigates to it\n\t\t\ttoArray( dom.wrapper.querySelectorAll( SLIDES_SELECTOR ) ).forEach( function( slide ) {\n\t\t\t\tif( !slide.classList.contains( 'stack' ) ) {\n\t\t\t\t\tslide.addEventListener( 'click', onOverviewSlideClicked, true );\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\t// Calculate slide sizes\n\t\t\tvar margin = 70;\n\t\t\tvar slideSize = getComputedSlideSize();\n\t\t\toverviewSlideWidth = slideSize.width + margin;\n\t\t\toverviewSlideHeight = slideSize.height + margin;\n\n\t\t\t// Reverse in RTL mode\n\t\t\tif( config.rtl ) {\n\t\t\t\toverviewSlideWidth = -overviewSlideWidth;\n\t\t\t}\n\n\t\t\tupdateSlidesVisibility();\n\t\t\tlayoutOverview();\n\t\t\tupdateOverview();\n\n\t\t\tlayout();\n\n\t\t\t// Notify observers of the overview showing\n\t\t\tdispatchEvent( 'overviewshown', {\n\t\t\t\t'indexh': indexh,\n\t\t\t\t'indexv': indexv,\n\t\t\t\t'currentSlide': currentSlide\n\t\t\t} );\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Uses CSS transforms to position all slides in a grid for\n\t * display inside of the overview mode.\n\t */\n\tfunction layoutOverview() {\n\n\t\t// Layout slides\n\t\ttoArray( dom.wrapper.querySelectorAll( HORIZONTAL_SLIDES_SELECTOR ) ).forEach( function( hslide, h ) {\n\t\t\thslide.setAttribute( 'data-index-h', h );\n\t\t\ttransformElement( hslide, 'translate3d(' + ( h * overviewSlideWidth ) + 'px, 0, 0)' );\n\n\t\t\tif( hslide.classList.contains( 'stack' ) ) {\n\n\t\t\t\ttoArray( hslide.querySelectorAll( 'section' ) ).forEach( function( vslide, v ) {\n\t\t\t\t\tvslide.setAttribute( 'data-index-h', h );\n\t\t\t\t\tvslide.setAttribute( 'data-index-v', v );\n\n\t\t\t\t\ttransformElement( vslide, 'translate3d(0, ' + ( v * overviewSlideHeight ) + 'px, 0)' );\n\t\t\t\t} );\n\n\t\t\t}\n\t\t} );\n\n\t\t// Layout slide backgrounds\n\t\ttoArray( dom.background.childNodes ).forEach( function( hbackground, h ) {\n\t\t\ttransformElement( hbackground, 'translate3d(' + ( h * overviewSlideWidth ) + 'px, 0, 0)' );\n\n\t\t\ttoArray( hbackground.querySelectorAll( '.slide-background' ) ).forEach( function( vbackground, v ) {\n\t\t\t\ttransformElement( vbackground, 'translate3d(0, ' + ( v * overviewSlideHeight ) + 'px, 0)' );\n\t\t\t} );\n\t\t} );\n\n\t}\n\n\t/**\n\t * Moves the overview viewport to the current slides.\n\t * Called each time the current slide changes.\n\t */\n\tfunction updateOverview() {\n\n\t\ttransformSlides( {\n\t\t\toverview: [\n\t\t\t\t'translateX('+ ( -indexh * overviewSlideWidth ) +'px)',\n\t\t\t\t'translateY('+ ( -indexv * overviewSlideHeight ) +'px)',\n\t\t\t\t'translateZ('+ ( window.innerWidth < 400 ? -1000 : -2500 ) +'px)'\n\t\t\t].join( ' ' )\n\t\t} );\n\n\t}\n\n\t/**\n\t * Exits the slide overview and enters the currently\n\t * active slide.\n\t */\n\tfunction deactivateOverview() {\n\n\t\t// Only proceed if enabled in config\n\t\tif( config.overview ) {\n\n\t\t\toverview = false;\n\n\t\t\tdom.wrapper.classList.remove( 'overview' );\n\t\t\tdom.wrapper.classList.remove( 'overview-animated' );\n\n\t\t\t// Temporarily add a class so that transitions can do different things\n\t\t\t// depending on whether they are exiting/entering overview, or just\n\t\t\t// moving from slide to slide\n\t\t\tdom.wrapper.classList.add( 'overview-deactivating' );\n\n\t\t\tsetTimeout( function () {\n\t\t\t\tdom.wrapper.classList.remove( 'overview-deactivating' );\n\t\t\t}, 1 );\n\n\t\t\t// Move the background element back out\n\t\t\tdom.wrapper.appendChild( dom.background );\n\n\t\t\t// Clean up changes made to slides\n\t\t\ttoArray( dom.wrapper.querySelectorAll( SLIDES_SELECTOR ) ).forEach( function( slide ) {\n\t\t\t\ttransformElement( slide, '' );\n\n\t\t\t\tslide.removeEventListener( 'click', onOverviewSlideClicked, true );\n\t\t\t} );\n\n\t\t\t// Clean up changes made to backgrounds\n\t\t\ttoArray( dom.background.querySelectorAll( '.slide-background' ) ).forEach( function( background ) {\n\t\t\t\ttransformElement( background, '' );\n\t\t\t} );\n\n\t\t\ttransformSlides( { overview: '' } );\n\n\t\t\tslide( indexh, indexv );\n\n\t\t\tlayout();\n\n\t\t\tcueAutoSlide();\n\n\t\t\t// Notify observers of the overview hiding\n\t\t\tdispatchEvent( 'overviewhidden', {\n\t\t\t\t'indexh': indexh,\n\t\t\t\t'indexv': indexv,\n\t\t\t\t'currentSlide': currentSlide\n\t\t\t} );\n\n\t\t}\n\t}\n\n\t/**\n\t * Toggles the slide overview mode on and off.\n\t *\n\t * @param {Boolean} [override] Flag which overrides the\n\t * toggle logic and forcibly sets the desired state. True means\n\t * overview is open, false means it's closed.\n\t */\n\tfunction toggleOverview( override ) {\n\n\t\tif( typeof override === 'boolean' ) {\n\t\t\toverride ? activateOverview() : deactivateOverview();\n\t\t}\n\t\telse {\n\t\t\tisOverview() ? deactivateOverview() : activateOverview();\n\t\t}\n\n\t}\n\n\t/**\n\t * Checks if the overview is currently active.\n\t *\n\t * @return {Boolean} true if the overview is active,\n\t * false otherwise\n\t */\n\tfunction isOverview() {\n\n\t\treturn overview;\n\n\t}\n\n\t/**\n\t * Checks if the current or specified slide is vertical\n\t * (nested within another slide).\n\t *\n\t * @param {HTMLElement} [slide=currentSlide] The slide to check\n\t * orientation of\n\t * @return {Boolean}\n\t */\n\tfunction isVerticalSlide( slide ) {\n\n\t\t// Prefer slide argument, otherwise use current slide\n\t\tslide = slide ? slide : currentSlide;\n\n\t\treturn slide && slide.parentNode && !!slide.parentNode.nodeName.match( /section/i );\n\n\t}\n\n\t/**\n\t * Handling the fullscreen functionality via the fullscreen API\n\t *\n\t * @see http://fullscreen.spec.whatwg.org/\n\t * @see https://developer.mozilla.org/en-US/docs/DOM/Using_fullscreen_mode\n\t */\n\tfunction enterFullscreen() {\n\n\t\tvar element = document.documentElement;\n\n\t\t// Check which implementation is available\n\t\tvar requestMethod = element.requestFullscreen ||\n\t\t\t\t\t\t\telement.webkitRequestFullscreen ||\n\t\t\t\t\t\t\telement.webkitRequestFullScreen ||\n\t\t\t\t\t\t\telement.mozRequestFullScreen ||\n\t\t\t\t\t\t\telement.msRequestFullscreen;\n\n\t\tif( requestMethod ) {\n\t\t\trequestMethod.apply( element );\n\t\t}\n\n\t}\n\n\t/**\n\t * Enters the paused mode which fades everything on screen to\n\t * black.\n\t */\n\tfunction pause() {\n\n\t\tif( config.pause ) {\n\t\t\tvar wasPaused = dom.wrapper.classList.contains( 'paused' );\n\n\t\t\tcancelAutoSlide();\n\t\t\tdom.wrapper.classList.add( 'paused' );\n\n\t\t\tif( wasPaused === false ) {\n\t\t\t\tdispatchEvent( 'paused' );\n\t\t\t}\n\t\t}\n\n\t}\n\n\t/**\n\t * Exits from the paused mode.\n\t */\n\tfunction resume() {\n\n\t\tvar wasPaused = dom.wrapper.classList.contains( 'paused' );\n\t\tdom.wrapper.classList.remove( 'paused' );\n\n\t\tcueAutoSlide();\n\n\t\tif( wasPaused ) {\n\t\t\tdispatchEvent( 'resumed' );\n\t\t}\n\n\t}\n\n\t/**\n\t * Toggles the paused mode on and off.\n\t */\n\tfunction togglePause( override ) {\n\n\t\tif( typeof override === 'boolean' ) {\n\t\t\toverride ? pause() : resume();\n\t\t}\n\t\telse {\n\t\t\tisPaused() ? resume() : pause();\n\t\t}\n\n\t}\n\n\t/**\n\t * Checks if we are currently in the paused mode.\n\t *\n\t * @return {Boolean}\n\t */\n\tfunction isPaused() {\n\n\t\treturn dom.wrapper.classList.contains( 'paused' );\n\n\t}\n\n\t/**\n\t * Toggles the auto slide mode on and off.\n\t *\n\t * @param {Boolean} [override] Flag which sets the desired state.\n\t * True means autoplay starts, false means it stops.\n\t */\n\n\tfunction toggleAutoSlide( override ) {\n\n\t\tif( typeof override === 'boolean' ) {\n\t\t\toverride ? resumeAutoSlide() : pauseAutoSlide();\n\t\t}\n\n\t\telse {\n\t\t\tautoSlidePaused ? resumeAutoSlide() : pauseAutoSlide();\n\t\t}\n\n\t}\n\n\t/**\n\t * Checks if the auto slide mode is currently on.\n\t *\n\t * @return {Boolean}\n\t */\n\tfunction isAutoSliding() {\n\n\t\treturn !!( autoSlide && !autoSlidePaused );\n\n\t}\n\n\t/**\n\t * Steps from the current point in the presentation to the\n\t * slide which matches the specified horizontal and vertical\n\t * indices.\n\t *\n\t * @param {number} [h=indexh] Horizontal index of the target slide\n\t * @param {number} [v=indexv] Vertical index of the target slide\n\t * @param {number} [f] Index of a fragment within the\n\t * target slide to activate\n\t * @param {number} [o] Origin for use in multimaster environments\n\t */\n\tfunction slide( h, v, f, o ) {\n\n\t\t// Remember where we were at before\n\t\tpreviousSlide = currentSlide;\n\n\t\t// Query all horizontal slides in the deck\n\t\tvar horizontalSlides = dom.wrapper.querySelectorAll( HORIZONTAL_SLIDES_SELECTOR );\n\n\t\t// Abort if there are no slides\n\t\tif( horizontalSlides.length === 0 ) return;\n\n\t\t// If no vertical index is specified and the upcoming slide is a\n\t\t// stack, resume at its previous vertical index\n\t\tif( v === undefined && !isOverview() ) {\n\t\t\tv = getPreviousVerticalIndex( horizontalSlides[ h ] );\n\t\t}\n\n\t\t// If we were on a vertical stack, remember what vertical index\n\t\t// it was on so we can resume at the same position when returning\n\t\tif( previousSlide && previousSlide.parentNode && previousSlide.parentNode.classList.contains( 'stack' ) ) {\n\t\t\tsetPreviousVerticalIndex( previousSlide.parentNode, indexv );\n\t\t}\n\n\t\t// Remember the state before this slide\n\t\tvar stateBefore = state.concat();\n\n\t\t// Reset the state array\n\t\tstate.length = 0;\n\n\t\tvar indexhBefore = indexh || 0,\n\t\t\tindexvBefore = indexv || 0;\n\n\t\t// Activate and transition to the new slide\n\t\tindexh = updateSlides( HORIZONTAL_SLIDES_SELECTOR, h === undefined ? indexh : h );\n\t\tindexv = updateSlides( VERTICAL_SLIDES_SELECTOR, v === undefined ? indexv : v );\n\n\t\t// Update the visibility of slides now that the indices have changed\n\t\tupdateSlidesVisibility();\n\n\t\tlayout();\n\n\t\t// Apply the new state\n\t\tstateLoop: for( var i = 0, len = state.length; i < len; i++ ) {\n\t\t\t// Check if this state existed on the previous slide. If it\n\t\t\t// did, we will avoid adding it repeatedly\n\t\t\tfor( var j = 0; j < stateBefore.length; j++ ) {\n\t\t\t\tif( stateBefore[j] === state[i] ) {\n\t\t\t\t\tstateBefore.splice( j, 1 );\n\t\t\t\t\tcontinue stateLoop;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tdocument.documentElement.classList.add( state[i] );\n\n\t\t\t// Dispatch custom event matching the state's name\n\t\t\tdispatchEvent( state[i] );\n\t\t}\n\n\t\t// Clean up the remains of the previous state\n\t\twhile( stateBefore.length ) {\n\t\t\tdocument.documentElement.classList.remove( stateBefore.pop() );\n\t\t}\n\n\t\t// Update the overview if it's currently active\n\t\tif( isOverview() ) {\n\t\t\tupdateOverview();\n\t\t}\n\n\t\t// Find the current horizontal slide and any possible vertical slides\n\t\t// within it\n\t\tvar currentHorizontalSlide = horizontalSlides[ indexh ],\n\t\t\tcurrentVerticalSlides = currentHorizontalSlide.querySelectorAll( 'section' );\n\n\t\t// Store references to the previous and current slides\n\t\tcurrentSlide = currentVerticalSlides[ indexv ] || currentHorizontalSlide;\n\n\t\t// Show fragment, if specified\n\t\tif( typeof f !== 'undefined' ) {\n\t\t\tnavigateFragment( f );\n\t\t}\n\n\t\t// Dispatch an event if the slide changed\n\t\tvar slideChanged = ( indexh !== indexhBefore || indexv !== indexvBefore );\n\t\tif( slideChanged ) {\n\t\t\tdispatchEvent( 'slidechanged', {\n\t\t\t\t'indexh': indexh,\n\t\t\t\t'indexv': indexv,\n\t\t\t\t'previousSlide': previousSlide,\n\t\t\t\t'currentSlide': currentSlide,\n\t\t\t\t'origin': o\n\t\t\t} );\n\t\t}\n\t\telse {\n\t\t\t// Ensure that the previous slide is never the same as the current\n\t\t\tpreviousSlide = null;\n\t\t}\n\n\t\t// Solves an edge case where the previous slide maintains the\n\t\t// 'present' class when navigating between adjacent vertical\n\t\t// stacks\n\t\tif( previousSlide ) {\n\t\t\tpreviousSlide.classList.remove( 'present' );\n\t\t\tpreviousSlide.setAttribute( 'aria-hidden', 'true' );\n\n\t\t\t// Reset all slides upon navigate to home\n\t\t\t// Issue: #285\n\t\t\tif ( dom.wrapper.querySelector( HOME_SLIDE_SELECTOR ).classList.contains( 'present' ) ) {\n\t\t\t\t// Launch async task\n\t\t\t\tsetTimeout( function () {\n\t\t\t\t\tvar slides = toArray( dom.wrapper.querySelectorAll( HORIZONTAL_SLIDES_SELECTOR + '.stack') ), i;\n\t\t\t\t\tfor( i in slides ) {\n\t\t\t\t\t\tif( slides[i] ) {\n\t\t\t\t\t\t\t// Reset stack\n\t\t\t\t\t\t\tsetPreviousVerticalIndex( slides[i], 0 );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}, 0 );\n\t\t\t}\n\t\t}\n\n\t\t// Handle embedded content\n\t\tif( slideChanged || !previousSlide ) {\n\t\t\tstopEmbeddedContent( previousSlide );\n\t\t\tstartEmbeddedContent( currentSlide );\n\t\t}\n\n\t\t// Announce the current slide contents, for screen readers\n\t\tdom.statusDiv.textContent = getStatusText( currentSlide );\n\n\t\tupdateControls();\n\t\tupdateProgress();\n\t\tupdateBackground();\n\t\tupdateParallax();\n\t\tupdateSlideNumber();\n\t\tupdateNotes();\n\n\t\t// Update the URL hash\n\t\twriteURL();\n\n\t\tcueAutoSlide();\n\n\t}\n\n\t/**\n\t * Syncs the presentation with the current DOM. Useful\n\t * when new slides or control elements are added or when\n\t * the configuration has changed.\n\t */\n\tfunction sync() {\n\n\t\t// Subscribe to input\n\t\tremoveEventListeners();\n\t\taddEventListeners();\n\n\t\t// Force a layout to make sure the current config is accounted for\n\t\tlayout();\n\n\t\t// Reflect the current autoSlide value\n\t\tautoSlide = config.autoSlide;\n\n\t\t// Start auto-sliding if it's enabled\n\t\tcueAutoSlide();\n\n\t\t// Re-create the slide backgrounds\n\t\tcreateBackgrounds();\n\n\t\t// Write the current hash to the URL\n\t\twriteURL();\n\n\t\tsortAllFragments();\n\n\t\tupdateControls();\n\t\tupdateProgress();\n\t\tupdateBackground( true );\n\t\tupdateSlideNumber();\n\t\tupdateSlidesVisibility();\n\t\tupdateNotes();\n\n\t\tformatEmbeddedContent();\n\t\tstartEmbeddedContent( currentSlide );\n\n\t\tif( isOverview() ) {\n\t\t\tlayoutOverview();\n\t\t}\n\n\t}\n\n\t/**\n\t * Resets all vertical slides so that only the first\n\t * is visible.\n\t */\n\tfunction resetVerticalSlides() {\n\n\t\tvar horizontalSlides = toArray( dom.wrapper.querySelectorAll( HORIZONTAL_SLIDES_SELECTOR ) );\n\t\thorizontalSlides.forEach( function( horizontalSlide ) {\n\n\t\t\tvar verticalSlides = toArray( horizontalSlide.querySelectorAll( 'section' ) );\n\t\t\tverticalSlides.forEach( function( verticalSlide, y ) {\n\n\t\t\t\tif( y > 0 ) {\n\t\t\t\t\tverticalSlide.classList.remove( 'present' );\n\t\t\t\t\tverticalSlide.classList.remove( 'past' );\n\t\t\t\t\tverticalSlide.classList.add( 'future' );\n\t\t\t\t\tverticalSlide.setAttribute( 'aria-hidden', 'true' );\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t} );\n\n\t}\n\n\t/**\n\t * Sorts and formats all of fragments in the\n\t * presentation.\n\t */\n\tfunction sortAllFragments() {\n\n\t\tvar horizontalSlides = toArray( dom.wrapper.querySelectorAll( HORIZONTAL_SLIDES_SELECTOR ) );\n\t\thorizontalSlides.forEach( function( horizontalSlide ) {\n\n\t\t\tvar verticalSlides = toArray( horizontalSlide.querySelectorAll( 'section' ) );\n\t\t\tverticalSlides.forEach( function( verticalSlide, y ) {\n\n\t\t\t\tsortFragments( verticalSlide.querySelectorAll( '.fragment' ) );\n\n\t\t\t} );\n\n\t\t\tif( verticalSlides.length === 0 ) sortFragments( horizontalSlide.querySelectorAll( '.fragment' ) );\n\n\t\t} );\n\n\t}\n\n\t/**\n\t * Randomly shuffles all slides in the deck.\n\t */\n\tfunction shuffle() {\n\n\t\tvar slides = toArray( dom.wrapper.querySelectorAll( HORIZONTAL_SLIDES_SELECTOR ) );\n\n\t\tslides.forEach( function( slide ) {\n\n\t\t\t// Insert this slide next to another random slide. This may\n\t\t\t// cause the slide to insert before itself but that's fine.\n\t\t\tdom.slides.insertBefore( slide, slides[ Math.floor( Math.random() * slides.length ) ] );\n\n\t\t} );\n\n\t}\n\n\t/**\n\t * Updates one dimension of slides by showing the slide\n\t * with the specified index.\n\t *\n\t * @param {string} selector A CSS selector that will fetch\n\t * the group of slides we are working with\n\t * @param {number} index The index of the slide that should be\n\t * shown\n\t *\n\t * @return {number} The index of the slide that is now shown,\n\t * might differ from the passed in index if it was out of\n\t * bounds.\n\t */\n\tfunction updateSlides( selector, index ) {\n\n\t\t// Select all slides and convert the NodeList result to\n\t\t// an array\n\t\tvar slides = toArray( dom.wrapper.querySelectorAll( selector ) ),\n\t\t\tslidesLength = slides.length;\n\n\t\tvar printMode = isPrintingPDF();\n\n\t\tif( slidesLength ) {\n\n\t\t\t// Should the index loop?\n\t\t\tif( config.loop ) {\n\t\t\t\tindex %= slidesLength;\n\n\t\t\t\tif( index < 0 ) {\n\t\t\t\t\tindex = slidesLength + index;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Enforce max and minimum index bounds\n\t\t\tindex = Math.max( Math.min( index, slidesLength - 1 ), 0 );\n\n\t\t\tfor( var i = 0; i < slidesLength; i++ ) {\n\t\t\t\tvar element = slides[i];\n\n\t\t\t\tvar reverse = config.rtl && !isVerticalSlide( element );\n\n\t\t\t\telement.classList.remove( 'past' );\n\t\t\t\telement.classList.remove( 'present' );\n\t\t\t\telement.classList.remove( 'future' );\n\n\t\t\t\t// http://www.w3.org/html/wg/drafts/html/master/editing.html#the-hidden-attribute\n\t\t\t\telement.setAttribute( 'hidden', '' );\n\t\t\t\telement.setAttribute( 'aria-hidden', 'true' );\n\n\t\t\t\t// If this element contains vertical slides\n\t\t\t\tif( element.querySelector( 'section' ) ) {\n\t\t\t\t\telement.classList.add( 'stack' );\n\t\t\t\t}\n\n\t\t\t\t// If we're printing static slides, all slides are \"present\"\n\t\t\t\tif( printMode ) {\n\t\t\t\t\telement.classList.add( 'present' );\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tif( i < index ) {\n\t\t\t\t\t// Any element previous to index is given the 'past' class\n\t\t\t\t\telement.classList.add( reverse ? 'future' : 'past' );\n\n\t\t\t\t\tif( config.fragments ) {\n\t\t\t\t\t\tvar pastFragments = toArray( element.querySelectorAll( '.fragment' ) );\n\n\t\t\t\t\t\t// Show all fragments on prior slides\n\t\t\t\t\t\twhile( pastFragments.length ) {\n\t\t\t\t\t\t\tvar pastFragment = pastFragments.pop();\n\t\t\t\t\t\t\tpastFragment.classList.add( 'visible' );\n\t\t\t\t\t\t\tpastFragment.classList.remove( 'current-fragment' );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if( i > index ) {\n\t\t\t\t\t// Any element subsequent to index is given the 'future' class\n\t\t\t\t\telement.classList.add( reverse ? 'past' : 'future' );\n\n\t\t\t\t\tif( config.fragments ) {\n\t\t\t\t\t\tvar futureFragments = toArray( element.querySelectorAll( '.fragment.visible' ) );\n\n\t\t\t\t\t\t// No fragments in future slides should be visible ahead of time\n\t\t\t\t\t\twhile( futureFragments.length ) {\n\t\t\t\t\t\t\tvar futureFragment = futureFragments.pop();\n\t\t\t\t\t\t\tfutureFragment.classList.remove( 'visible' );\n\t\t\t\t\t\t\tfutureFragment.classList.remove( 'current-fragment' );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Mark the current slide as present\n\t\t\tslides[index].classList.add( 'present' );\n\t\t\tslides[index].removeAttribute( 'hidden' );\n\t\t\tslides[index].removeAttribute( 'aria-hidden' );\n\n\t\t\t// If this slide has a state associated with it, add it\n\t\t\t// onto the current state of the deck\n\t\t\tvar slideState = slides[index].getAttribute( 'data-state' );\n\t\t\tif( slideState ) {\n\t\t\t\tstate = state.concat( slideState.split( ' ' ) );\n\t\t\t}\n\n\t\t}\n\t\telse {\n\t\t\t// Since there are no slides we can't be anywhere beyond the\n\t\t\t// zeroth index\n\t\t\tindex = 0;\n\t\t}\n\n\t\treturn index;\n\n\t}\n\n\t/**\n\t * Optimization method; hide all slides that are far away\n\t * from the present slide.\n\t */\n\tfunction updateSlidesVisibility() {\n\n\t\t// Select all slides and convert the NodeList result to\n\t\t// an array\n\t\tvar horizontalSlides = toArray( dom.wrapper.querySelectorAll( HORIZONTAL_SLIDES_SELECTOR ) ),\n\t\t\thorizontalSlidesLength = horizontalSlides.length,\n\t\t\tdistanceX,\n\t\t\tdistanceY;\n\n\t\tif( horizontalSlidesLength && typeof indexh !== 'undefined' ) {\n\n\t\t\t// The number of steps away from the present slide that will\n\t\t\t// be visible\n\t\t\tvar viewDistance = isOverview() ? 10 : config.viewDistance;\n\n\t\t\t// Limit view distance on weaker devices\n\t\t\tif( isMobileDevice ) {\n\t\t\t\tviewDistance = isOverview() ? 6 : 2;\n\t\t\t}\n\n\t\t\t// All slides need to be visible when exporting to PDF\n\t\t\tif( isPrintingPDF() ) {\n\t\t\t\tviewDistance = Number.MAX_VALUE;\n\t\t\t}\n\n\t\t\tfor( var x = 0; x < horizontalSlidesLength; x++ ) {\n\t\t\t\tvar horizontalSlide = horizontalSlides[x];\n\n\t\t\t\tvar verticalSlides = toArray( horizontalSlide.querySelectorAll( 'section' ) ),\n\t\t\t\t\tverticalSlidesLength = verticalSlides.length;\n\n\t\t\t\t// Determine how far away this slide is from the present\n\t\t\t\tdistanceX = Math.abs( ( indexh || 0 ) - x ) || 0;\n\n\t\t\t\t// If the presentation is looped, distance should measure\n\t\t\t\t// 1 between the first and last slides\n\t\t\t\tif( config.loop ) {\n\t\t\t\t\tdistanceX = Math.abs( ( ( indexh || 0 ) - x ) % ( horizontalSlidesLength - viewDistance ) ) || 0;\n\t\t\t\t}\n\n\t\t\t\t// Show the horizontal slide if it's within the view distance\n\t\t\t\tif( distanceX < viewDistance ) {\n\t\t\t\t\tshowSlide( horizontalSlide );\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\thideSlide( horizontalSlide );\n\t\t\t\t}\n\n\t\t\t\tif( verticalSlidesLength ) {\n\n\t\t\t\t\tvar oy = getPreviousVerticalIndex( horizontalSlide );\n\n\t\t\t\t\tfor( var y = 0; y < verticalSlidesLength; y++ ) {\n\t\t\t\t\t\tvar verticalSlide = verticalSlides[y];\n\n\t\t\t\t\t\tdistanceY = x === ( indexh || 0 ) ? Math.abs( ( indexv || 0 ) - y ) : Math.abs( y - oy );\n\n\t\t\t\t\t\tif( distanceX + distanceY < viewDistance ) {\n\t\t\t\t\t\t\tshowSlide( verticalSlide );\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\thideSlide( verticalSlide );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Pick up notes from the current slide and display them\n\t * to the viewer.\n\t *\n\t * @see {@link config.showNotes}\n\t */\n\tfunction updateNotes() {\n\n\t\tif( config.showNotes && dom.speakerNotes && currentSlide && !isPrintingPDF() ) {\n\n\t\t\tdom.speakerNotes.innerHTML = getSlideNotes() || '';\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Updates the progress bar to reflect the current slide.\n\t */\n\tfunction updateProgress() {\n\n\t\t// Update progress if enabled\n\t\tif( config.progress && dom.progressbar ) {\n\n\t\t\tdom.progressbar.style.width = getProgress() * dom.wrapper.offsetWidth + 'px';\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Updates the slide number div to reflect the current slide.\n\t *\n\t * The following slide number formats are available:\n\t *  \"h.v\":\thorizontal . vertical slide number (default)\n\t *  \"h/v\":\thorizontal / vertical slide number\n\t *    \"c\":\tflattened slide number\n\t *  \"c/t\":\tflattened slide number / total slides\n\t */\n\tfunction updateSlideNumber() {\n\n\t\t// Update slide number if enabled\n\t\tif( config.slideNumber && dom.slideNumber ) {\n\n\t\t\tvar value = [];\n\t\t\tvar format = 'h.v';\n\n\t\t\t// Check if a custom number format is available\n\t\t\tif( typeof config.slideNumber === 'string' ) {\n\t\t\t\tformat = config.slideNumber;\n\t\t\t}\n\n\t\t\tswitch( format ) {\n\t\t\t\tcase 'c':\n\t\t\t\t\tvalue.push( getSlidePastCount() + 1 );\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'c/t':\n\t\t\t\t\tvalue.push( getSlidePastCount() + 1, '/', getTotalSlides() );\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'h/v':\n\t\t\t\t\tvalue.push( indexh + 1 );\n\t\t\t\t\tif( isVerticalSlide() ) value.push( '/', indexv + 1 );\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tvalue.push( indexh + 1 );\n\t\t\t\t\tif( isVerticalSlide() ) value.push( '.', indexv + 1 );\n\t\t\t}\n\n\t\t\tdom.slideNumber.innerHTML = formatSlideNumber( value[0], value[1], value[2] );\n\t\t}\n\n\t}\n\n\t/**\n\t * Applies HTML formatting to a slide number before it's\n\t * written to the DOM.\n\t *\n\t * @param {number} a Current slide\n\t * @param {string} delimiter Character to separate slide numbers\n\t * @param {(number|*)} b Total slides\n\t * @return {string} HTML string fragment\n\t */\n\tfunction formatSlideNumber( a, delimiter, b ) {\n\n\t\tif( typeof b === 'number' && !isNaN( b ) ) {\n\t\t\treturn  '<span class=\"slide-number-a\">'+ a +'</span>' +\n\t\t\t\t\t'<span class=\"slide-number-delimiter\">'+ delimiter +'</span>' +\n\t\t\t\t\t'<span class=\"slide-number-b\">'+ b +'</span>';\n\t\t}\n\t\telse {\n\t\t\treturn '<span class=\"slide-number-a\">'+ a +'</span>';\n\t\t}\n\n\t}\n\n\t/**\n\t * Updates the state of all control/navigation arrows.\n\t */\n\tfunction updateControls() {\n\n\t\tvar routes = availableRoutes();\n\t\tvar fragments = availableFragments();\n\n\t\t// Remove the 'enabled' class from all directions\n\t\tdom.controlsLeft.concat( dom.controlsRight )\n\t\t\t\t\t\t.concat( dom.controlsUp )\n\t\t\t\t\t\t.concat( dom.controlsDown )\n\t\t\t\t\t\t.concat( dom.controlsPrev )\n\t\t\t\t\t\t.concat( dom.controlsNext ).forEach( function( node ) {\n\t\t\tnode.classList.remove( 'enabled' );\n\t\t\tnode.classList.remove( 'fragmented' );\n\n\t\t\t// Set 'disabled' attribute on all directions\n\t\t\tnode.setAttribute( 'disabled', 'disabled' );\n\t\t} );\n\n\t\t// Add the 'enabled' class to the available routes; remove 'disabled' attribute to enable buttons\n\t\tif( routes.left ) dom.controlsLeft.forEach( function( el ) { el.classList.add( 'enabled' ); el.removeAttribute( 'disabled' ); } );\n\t\tif( routes.right ) dom.controlsRight.forEach( function( el ) { el.classList.add( 'enabled' ); el.removeAttribute( 'disabled' ); } );\n\t\tif( routes.up ) dom.controlsUp.forEach( function( el ) { el.classList.add( 'enabled' ); el.removeAttribute( 'disabled' ); } );\n\t\tif( routes.down ) dom.controlsDown.forEach( function( el ) { el.classList.add( 'enabled' ); el.removeAttribute( 'disabled' ); } );\n\n\t\t// Prev/next buttons\n\t\tif( routes.left || routes.up ) dom.controlsPrev.forEach( function( el ) { el.classList.add( 'enabled' ); el.removeAttribute( 'disabled' ); } );\n\t\tif( routes.right || routes.down ) dom.controlsNext.forEach( function( el ) { el.classList.add( 'enabled' ); el.removeAttribute( 'disabled' ); } );\n\n\t\t// Highlight fragment directions\n\t\tif( currentSlide ) {\n\n\t\t\t// Always apply fragment decorator to prev/next buttons\n\t\t\tif( fragments.prev ) dom.controlsPrev.forEach( function( el ) { el.classList.add( 'fragmented', 'enabled' ); el.removeAttribute( 'disabled' ); } );\n\t\t\tif( fragments.next ) dom.controlsNext.forEach( function( el ) { el.classList.add( 'fragmented', 'enabled' ); el.removeAttribute( 'disabled' ); } );\n\n\t\t\t// Apply fragment decorators to directional buttons based on\n\t\t\t// what slide axis they are in\n\t\t\tif( isVerticalSlide( currentSlide ) ) {\n\t\t\t\tif( fragments.prev ) dom.controlsUp.forEach( function( el ) { el.classList.add( 'fragmented', 'enabled' ); el.removeAttribute( 'disabled' ); } );\n\t\t\t\tif( fragments.next ) dom.controlsDown.forEach( function( el ) { el.classList.add( 'fragmented', 'enabled' ); el.removeAttribute( 'disabled' ); } );\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif( fragments.prev ) dom.controlsLeft.forEach( function( el ) { el.classList.add( 'fragmented', 'enabled' ); el.removeAttribute( 'disabled' ); } );\n\t\t\t\tif( fragments.next ) dom.controlsRight.forEach( function( el ) { el.classList.add( 'fragmented', 'enabled' ); el.removeAttribute( 'disabled' ); } );\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Updates the background elements to reflect the current\n\t * slide.\n\t *\n\t * @param {boolean} includeAll If true, the backgrounds of\n\t * all vertical slides (not just the present) will be updated.\n\t */\n\tfunction updateBackground( includeAll ) {\n\n\t\tvar currentBackground = null;\n\n\t\t// Reverse past/future classes when in RTL mode\n\t\tvar horizontalPast = config.rtl ? 'future' : 'past',\n\t\t\thorizontalFuture = config.rtl ? 'past' : 'future';\n\n\t\t// Update the classes of all backgrounds to match the\n\t\t// states of their slides (past/present/future)\n\t\ttoArray( dom.background.childNodes ).forEach( function( backgroundh, h ) {\n\n\t\t\tbackgroundh.classList.remove( 'past' );\n\t\t\tbackgroundh.classList.remove( 'present' );\n\t\t\tbackgroundh.classList.remove( 'future' );\n\n\t\t\tif( h < indexh ) {\n\t\t\t\tbackgroundh.classList.add( horizontalPast );\n\t\t\t}\n\t\t\telse if ( h > indexh ) {\n\t\t\t\tbackgroundh.classList.add( horizontalFuture );\n\t\t\t}\n\t\t\telse {\n\t\t\t\tbackgroundh.classList.add( 'present' );\n\n\t\t\t\t// Store a reference to the current background element\n\t\t\t\tcurrentBackground = backgroundh;\n\t\t\t}\n\n\t\t\tif( includeAll || h === indexh ) {\n\t\t\t\ttoArray( backgroundh.querySelectorAll( '.slide-background' ) ).forEach( function( backgroundv, v ) {\n\n\t\t\t\t\tbackgroundv.classList.remove( 'past' );\n\t\t\t\t\tbackgroundv.classList.remove( 'present' );\n\t\t\t\t\tbackgroundv.classList.remove( 'future' );\n\n\t\t\t\t\tif( v < indexv ) {\n\t\t\t\t\t\tbackgroundv.classList.add( 'past' );\n\t\t\t\t\t}\n\t\t\t\t\telse if ( v > indexv ) {\n\t\t\t\t\t\tbackgroundv.classList.add( 'future' );\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tbackgroundv.classList.add( 'present' );\n\n\t\t\t\t\t\t// Only if this is the present horizontal and vertical slide\n\t\t\t\t\t\tif( h === indexh ) currentBackground = backgroundv;\n\t\t\t\t\t}\n\n\t\t\t\t} );\n\t\t\t}\n\n\t\t} );\n\n\t\t// Stop any currently playing video background\n\t\tif( previousBackground ) {\n\n\t\t\tvar previousVideo = previousBackground.querySelector( 'video' );\n\t\t\tif( previousVideo ) previousVideo.pause();\n\n\t\t}\n\n\t\tif( currentBackground ) {\n\n\t\t\t// Start video playback\n\t\t\tvar currentVideo = currentBackground.querySelector( 'video' );\n\t\t\tif( currentVideo ) {\n\n\t\t\t\tvar startVideo = function() {\n\t\t\t\t\tcurrentVideo.currentTime = 0;\n\t\t\t\t\tcurrentVideo.play();\n\t\t\t\t\tcurrentVideo.removeEventListener( 'loadeddata', startVideo );\n\t\t\t\t};\n\n\t\t\t\tif( currentVideo.readyState > 1 ) {\n\t\t\t\t\tstartVideo();\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tcurrentVideo.addEventListener( 'loadeddata', startVideo );\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tvar backgroundImageURL = currentBackground.style.backgroundImage || '';\n\n\t\t\t// Restart GIFs (doesn't work in Firefox)\n\t\t\tif( /\\.gif/i.test( backgroundImageURL ) ) {\n\t\t\t\tcurrentBackground.style.backgroundImage = '';\n\t\t\t\twindow.getComputedStyle( currentBackground ).opacity;\n\t\t\t\tcurrentBackground.style.backgroundImage = backgroundImageURL;\n\t\t\t}\n\n\t\t\t// Don't transition between identical backgrounds. This\n\t\t\t// prevents unwanted flicker.\n\t\t\tvar previousBackgroundHash = previousBackground ? previousBackground.getAttribute( 'data-background-hash' ) : null;\n\t\t\tvar currentBackgroundHash = currentBackground.getAttribute( 'data-background-hash' );\n\t\t\tif( currentBackgroundHash && currentBackgroundHash === previousBackgroundHash && currentBackground !== previousBackground ) {\n\t\t\t\tdom.background.classList.add( 'no-transition' );\n\t\t\t}\n\n\t\t\tpreviousBackground = currentBackground;\n\n\t\t}\n\n\t\t// If there's a background brightness flag for this slide,\n\t\t// bubble it to the .reveal container\n\t\tif( currentSlide ) {\n\t\t\t[ 'has-light-background', 'has-dark-background' ].forEach( function( classToBubble ) {\n\t\t\t\tif( currentSlide.classList.contains( classToBubble ) ) {\n\t\t\t\t\tdom.wrapper.classList.add( classToBubble );\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tdom.wrapper.classList.remove( classToBubble );\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\n\t\t// Allow the first background to apply without transition\n\t\tsetTimeout( function() {\n\t\t\tdom.background.classList.remove( 'no-transition' );\n\t\t}, 1 );\n\n\t}\n\n\t/**\n\t * Updates the position of the parallax background based\n\t * on the current slide index.\n\t */\n\tfunction updateParallax() {\n\n\t\tif( config.parallaxBackgroundImage ) {\n\n\t\t\tvar horizontalSlides = dom.wrapper.querySelectorAll( HORIZONTAL_SLIDES_SELECTOR ),\n\t\t\t\tverticalSlides = dom.wrapper.querySelectorAll( VERTICAL_SLIDES_SELECTOR );\n\n\t\t\tvar backgroundSize = dom.background.style.backgroundSize.split( ' ' ),\n\t\t\t\tbackgroundWidth, backgroundHeight;\n\n\t\t\tif( backgroundSize.length === 1 ) {\n\t\t\t\tbackgroundWidth = backgroundHeight = parseInt( backgroundSize[0], 10 );\n\t\t\t}\n\t\t\telse {\n\t\t\t\tbackgroundWidth = parseInt( backgroundSize[0], 10 );\n\t\t\t\tbackgroundHeight = parseInt( backgroundSize[1], 10 );\n\t\t\t}\n\n\t\t\tvar slideWidth = dom.background.offsetWidth,\n\t\t\t\thorizontalSlideCount = horizontalSlides.length,\n\t\t\t\thorizontalOffsetMultiplier,\n\t\t\t\thorizontalOffset;\n\n\t\t\tif( typeof config.parallaxBackgroundHorizontal === 'number' ) {\n\t\t\t\thorizontalOffsetMultiplier = config.parallaxBackgroundHorizontal;\n\t\t\t}\n\t\t\telse {\n\t\t\t\thorizontalOffsetMultiplier = horizontalSlideCount > 1 ? ( backgroundWidth - slideWidth ) / ( horizontalSlideCount-1 ) : 0;\n\t\t\t}\n\n\t\t\thorizontalOffset = horizontalOffsetMultiplier * indexh * -1;\n\n\t\t\tvar slideHeight = dom.background.offsetHeight,\n\t\t\t\tverticalSlideCount = verticalSlides.length,\n\t\t\t\tverticalOffsetMultiplier,\n\t\t\t\tverticalOffset;\n\n\t\t\tif( typeof config.parallaxBackgroundVertical === 'number' ) {\n\t\t\t\tverticalOffsetMultiplier = config.parallaxBackgroundVertical;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tverticalOffsetMultiplier = ( backgroundHeight - slideHeight ) / ( verticalSlideCount-1 );\n\t\t\t}\n\n\t\t\tverticalOffset = verticalSlideCount > 0 ?  verticalOffsetMultiplier * indexv : 0;\n\n\t\t\tdom.background.style.backgroundPosition = horizontalOffset + 'px ' + -verticalOffset + 'px';\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Called when the given slide is within the configured view\n\t * distance. Shows the slide element and loads any content\n\t * that is set to load lazily (data-src).\n\t *\n\t * @param {HTMLElement} slide Slide to show\n\t */\n\tfunction showSlide( slide ) {\n\n\t\t// Show the slide element\n\t\tslide.style.display = 'block';\n\n\t\t// Media elements with data-src attributes\n\t\ttoArray( slide.querySelectorAll( 'img[data-src], video[data-src], audio[data-src]' ) ).forEach( function( element ) {\n\t\t\telement.setAttribute( 'src', element.getAttribute( 'data-src' ) );\n\t\t\telement.removeAttribute( 'data-src' );\n\t\t} );\n\n\t\t// Media elements with <source> children\n\t\ttoArray( slide.querySelectorAll( 'video, audio' ) ).forEach( function( media ) {\n\t\t\tvar sources = 0;\n\n\t\t\ttoArray( media.querySelectorAll( 'source[data-src]' ) ).forEach( function( source ) {\n\t\t\t\tsource.setAttribute( 'src', source.getAttribute( 'data-src' ) );\n\t\t\t\tsource.removeAttribute( 'data-src' );\n\t\t\t\tsources += 1;\n\t\t\t} );\n\n\t\t\t// If we rewrote sources for this video/audio element, we need\n\t\t\t// to manually tell it to load from its new origin\n\t\t\tif( sources > 0 ) {\n\t\t\t\tmedia.load();\n\t\t\t}\n\t\t} );\n\n\n\t\t// Show the corresponding background element\n\t\tvar indices = getIndices( slide );\n\t\tvar background = getSlideBackground( indices.h, indices.v );\n\t\tif( background ) {\n\t\t\tbackground.style.display = 'block';\n\n\t\t\t// If the background contains media, load it\n\t\t\tif( background.hasAttribute( 'data-loaded' ) === false ) {\n\t\t\t\tbackground.setAttribute( 'data-loaded', 'true' );\n\n\t\t\t\tvar backgroundImage = slide.getAttribute( 'data-background-image' ),\n\t\t\t\t\tbackgroundVideo = slide.getAttribute( 'data-background-video' ),\n\t\t\t\t\tbackgroundVideoLoop = slide.hasAttribute( 'data-background-video-loop' ),\n\t\t\t\t\tbackgroundVideoMuted = slide.hasAttribute( 'data-background-video-muted' ),\n\t\t\t\t\tbackgroundIframe = slide.getAttribute( 'data-background-iframe' );\n\n\t\t\t\t// Images\n\t\t\t\tif( backgroundImage ) {\n\t\t\t\t\tbackground.style.backgroundImage = 'url('+ backgroundImage +')';\n\t\t\t\t}\n\t\t\t\t// Videos\n\t\t\t\telse if ( backgroundVideo && !isSpeakerNotes() ) {\n\t\t\t\t\tvar video = document.createElement( 'video' );\n\n\t\t\t\t\tif( backgroundVideoLoop ) {\n\t\t\t\t\t\tvideo.setAttribute( 'loop', '' );\n\t\t\t\t\t}\n\n\t\t\t\t\tif( backgroundVideoMuted ) {\n\t\t\t\t\t\tvideo.muted = true;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Support comma separated lists of video sources\n\t\t\t\t\tbackgroundVideo.split( ',' ).forEach( function( source ) {\n\t\t\t\t\t\tvideo.innerHTML += '<source src=\"'+ source +'\">';\n\t\t\t\t\t} );\n\n\t\t\t\t\tbackground.appendChild( video );\n\t\t\t\t}\n\t\t\t\t// Iframes\n\t\t\t\telse if( backgroundIframe ) {\n\t\t\t\t\tvar iframe = document.createElement( 'iframe' );\n\t\t\t\t\t\tiframe.setAttribute( 'src', backgroundIframe );\n\t\t\t\t\t\tiframe.style.width  = '100%';\n\t\t\t\t\t\tiframe.style.height = '100%';\n\t\t\t\t\t\tiframe.style.maxHeight = '100%';\n\t\t\t\t\t\tiframe.style.maxWidth = '100%';\n\n\t\t\t\t\tbackground.appendChild( iframe );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t}\n\n\t/**\n\t * Called when the given slide is moved outside of the\n\t * configured view distance.\n\t *\n\t * @param {HTMLElement} slide\n\t */\n\tfunction hideSlide( slide ) {\n\n\t\t// Hide the slide element\n\t\tslide.style.display = 'none';\n\n\t\t// Hide the corresponding background element\n\t\tvar indices = getIndices( slide );\n\t\tvar background = getSlideBackground( indices.h, indices.v );\n\t\tif( background ) {\n\t\t\tbackground.style.display = 'none';\n\t\t}\n\n\t}\n\n\t/**\n\t * Determine what available routes there are for navigation.\n\t *\n\t * @return {{left: boolean, right: boolean, up: boolean, down: boolean}}\n\t */\n\tfunction availableRoutes() {\n\n\t\tvar horizontalSlides = dom.wrapper.querySelectorAll( HORIZONTAL_SLIDES_SELECTOR ),\n\t\t\tverticalSlides = dom.wrapper.querySelectorAll( VERTICAL_SLIDES_SELECTOR );\n\n\t\tvar routes = {\n\t\t\tleft: indexh > 0 || config.loop,\n\t\t\tright: indexh < horizontalSlides.length - 1 || config.loop,\n\t\t\tup: indexv > 0,\n\t\t\tdown: indexv < verticalSlides.length - 1\n\t\t};\n\n\t\t// reverse horizontal controls for rtl\n\t\tif( config.rtl ) {\n\t\t\tvar left = routes.left;\n\t\t\troutes.left = routes.right;\n\t\t\troutes.right = left;\n\t\t}\n\n\t\treturn routes;\n\n\t}\n\n\t/**\n\t * Returns an object describing the available fragment\n\t * directions.\n\t *\n\t * @return {{prev: boolean, next: boolean}}\n\t */\n\tfunction availableFragments() {\n\n\t\tif( currentSlide && config.fragments ) {\n\t\t\tvar fragments = currentSlide.querySelectorAll( '.fragment' );\n\t\t\tvar hiddenFragments = currentSlide.querySelectorAll( '.fragment:not(.visible)' );\n\n\t\t\treturn {\n\t\t\t\tprev: fragments.length - hiddenFragments.length > 0,\n\t\t\t\tnext: !!hiddenFragments.length\n\t\t\t};\n\t\t}\n\t\telse {\n\t\t\treturn { prev: false, next: false };\n\t\t}\n\n\t}\n\n\t/**\n\t * Enforces origin-specific format rules for embedded media.\n\t */\n\tfunction formatEmbeddedContent() {\n\n\t\tvar _appendParamToIframeSource = function( sourceAttribute, sourceURL, param ) {\n\t\t\ttoArray( dom.slides.querySelectorAll( 'iframe['+ sourceAttribute +'*=\"'+ sourceURL +'\"]' ) ).forEach( function( el ) {\n\t\t\t\tvar src = el.getAttribute( sourceAttribute );\n\t\t\t\tif( src && src.indexOf( param ) === -1 ) {\n\t\t\t\t\tel.setAttribute( sourceAttribute, src + ( !/\\?/.test( src ) ? '?' : '&' ) + param );\n\t\t\t\t}\n\t\t\t});\n\t\t};\n\n\t\t// YouTube frames must include \"?enablejsapi=1\"\n\t\t_appendParamToIframeSource( 'src', 'youtube.com/embed/', 'enablejsapi=1' );\n\t\t_appendParamToIframeSource( 'data-src', 'youtube.com/embed/', 'enablejsapi=1' );\n\n\t\t// Vimeo frames must include \"?api=1\"\n\t\t_appendParamToIframeSource( 'src', 'player.vimeo.com/', 'api=1' );\n\t\t_appendParamToIframeSource( 'data-src', 'player.vimeo.com/', 'api=1' );\n\n\t}\n\n\t/**\n\t * Start playback of any embedded content inside of\n\t * the given element.\n\t *\n\t * @param {HTMLElement} slide\n\t */\n\tfunction startEmbeddedContent( element ) {\n\n\t\tif( element && !isSpeakerNotes() ) {\n\t\t\t// Restart GIFs\n\t\t\ttoArray( element.querySelectorAll( 'img[src$=\".gif\"]' ) ).forEach( function( el ) {\n\t\t\t\t// Setting the same unchanged source like this was confirmed\n\t\t\t\t// to work in Chrome, FF & Safari\n\t\t\t\tel.setAttribute( 'src', el.getAttribute( 'src' ) );\n\t\t\t} );\n\n\t\t\t// HTML5 media elements\n\t\t\ttoArray( element.querySelectorAll( 'video, audio' ) ).forEach( function( el ) {\n\t\t\t\tif( closestParent( el, '.fragment' ) && !closestParent( el, '.fragment.visible' ) ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif( el.hasAttribute( 'data-autoplay' ) && typeof el.play === 'function' ) {\n\t\t\t\t\tel.play();\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\t// Normal iframes\n\t\t\ttoArray( element.querySelectorAll( 'iframe[src]' ) ).forEach( function( el ) {\n\t\t\t\tif( closestParent( el, '.fragment' ) && !closestParent( el, '.fragment.visible' ) ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tstartEmbeddedIframe( { target: el } );\n\t\t\t} );\n\n\t\t\t// Lazy loading iframes\n\t\t\ttoArray( element.querySelectorAll( 'iframe[data-src]' ) ).forEach( function( el ) {\n\t\t\t\tif( closestParent( el, '.fragment' ) && !closestParent( el, '.fragment.visible' ) ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif( el.getAttribute( 'src' ) !== el.getAttribute( 'data-src' ) ) {\n\t\t\t\t\tel.removeEventListener( 'load', startEmbeddedIframe ); // remove first to avoid dupes\n\t\t\t\t\tel.addEventListener( 'load', startEmbeddedIframe );\n\t\t\t\t\tel.setAttribute( 'src', el.getAttribute( 'data-src' ) );\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\n\t}\n\n\t/**\n\t * \"Starts\" the content of an embedded iframe using the\n\t * postMessage API.\n\t *\n\t * @param {object} event - postMessage API event\n\t */\n\tfunction startEmbeddedIframe( event ) {\n\n\t\tvar iframe = event.target;\n\n\t\tif( iframe && iframe.contentWindow ) {\n\n\t\t\t// YouTube postMessage API\n\t\t\tif( /youtube\\.com\\/embed\\//.test( iframe.getAttribute( 'src' ) ) && iframe.hasAttribute( 'data-autoplay' ) ) {\n\t\t\t\tiframe.contentWindow.postMessage( '{\"event\":\"command\",\"func\":\"playVideo\",\"args\":\"\"}', '*' );\n\t\t\t}\n\t\t\t// Vimeo postMessage API\n\t\t\telse if( /player\\.vimeo\\.com\\//.test( iframe.getAttribute( 'src' ) ) && iframe.hasAttribute( 'data-autoplay' ) ) {\n\t\t\t\tiframe.contentWindow.postMessage( '{\"method\":\"play\"}', '*' );\n\t\t\t}\n\t\t\t// Generic postMessage API\n\t\t\telse {\n\t\t\t\tiframe.contentWindow.postMessage( 'slide:start', '*' );\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Stop playback of any embedded content inside of\n\t * the targeted slide.\n\t *\n\t * @param {HTMLElement} slide\n\t */\n\tfunction stopEmbeddedContent( slide ) {\n\n\t\tif( slide && slide.parentNode ) {\n\t\t\t// HTML5 media elements\n\t\t\ttoArray( slide.querySelectorAll( 'video, audio' ) ).forEach( function( el ) {\n\t\t\t\tif( !el.hasAttribute( 'data-ignore' ) && typeof el.pause === 'function' ) {\n\t\t\t\t\tel.pause();\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\t// Generic postMessage API for non-lazy loaded iframes\n\t\t\ttoArray( slide.querySelectorAll( 'iframe' ) ).forEach( function( el ) {\n\t\t\t\tel.contentWindow.postMessage( 'slide:stop', '*' );\n\t\t\t\tel.removeEventListener( 'load', startEmbeddedIframe );\n\t\t\t});\n\n\t\t\t// YouTube postMessage API\n\t\t\ttoArray( slide.querySelectorAll( 'iframe[src*=\"youtube.com/embed/\"]' ) ).forEach( function( el ) {\n\t\t\t\tif( !el.hasAttribute( 'data-ignore' ) && typeof el.contentWindow.postMessage === 'function' ) {\n\t\t\t\t\tel.contentWindow.postMessage( '{\"event\":\"command\",\"func\":\"pauseVideo\",\"args\":\"\"}', '*' );\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// Vimeo postMessage API\n\t\t\ttoArray( slide.querySelectorAll( 'iframe[src*=\"player.vimeo.com/\"]' ) ).forEach( function( el ) {\n\t\t\t\tif( !el.hasAttribute( 'data-ignore' ) && typeof el.contentWindow.postMessage === 'function' ) {\n\t\t\t\t\tel.contentWindow.postMessage( '{\"method\":\"pause\"}', '*' );\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// Lazy loading iframes\n\t\t\ttoArray( slide.querySelectorAll( 'iframe[data-src]' ) ).forEach( function( el ) {\n\t\t\t\t// Only removing the src doesn't actually unload the frame\n\t\t\t\t// in all browsers (Firefox) so we set it to blank first\n\t\t\t\tel.setAttribute( 'src', 'about:blank' );\n\t\t\t\tel.removeAttribute( 'src' );\n\t\t\t} );\n\t\t}\n\n\t}\n\n\t/**\n\t * Returns the number of past slides. This can be used as a global\n\t * flattened index for slides.\n\t *\n\t * @return {number} Past slide count\n\t */\n\tfunction getSlidePastCount() {\n\n\t\tvar horizontalSlides = toArray( dom.wrapper.querySelectorAll( HORIZONTAL_SLIDES_SELECTOR ) );\n\n\t\t// The number of past slides\n\t\tvar pastCount = 0;\n\n\t\t// Step through all slides and count the past ones\n\t\tmainLoop: for( var i = 0; i < horizontalSlides.length; i++ ) {\n\n\t\t\tvar horizontalSlide = horizontalSlides[i];\n\t\t\tvar verticalSlides = toArray( horizontalSlide.querySelectorAll( 'section' ) );\n\n\t\t\tfor( var j = 0; j < verticalSlides.length; j++ ) {\n\n\t\t\t\t// Stop as soon as we arrive at the present\n\t\t\t\tif( verticalSlides[j].classList.contains( 'present' ) ) {\n\t\t\t\t\tbreak mainLoop;\n\t\t\t\t}\n\n\t\t\t\tpastCount++;\n\n\t\t\t}\n\n\t\t\t// Stop as soon as we arrive at the present\n\t\t\tif( horizontalSlide.classList.contains( 'present' ) ) {\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\t// Don't count the wrapping section for vertical slides\n\t\t\tif( horizontalSlide.classList.contains( 'stack' ) === false ) {\n\t\t\t\tpastCount++;\n\t\t\t}\n\n\t\t}\n\n\t\treturn pastCount;\n\n\t}\n\n\t/**\n\t * Returns a value ranging from 0-1 that represents\n\t * how far into the presentation we have navigated.\n\t *\n\t * @return {number}\n\t */\n\tfunction getProgress() {\n\n\t\t// The number of past and total slides\n\t\tvar totalCount = getTotalSlides();\n\t\tvar pastCount = getSlidePastCount();\n\n\t\tif( currentSlide ) {\n\n\t\t\tvar allFragments = currentSlide.querySelectorAll( '.fragment' );\n\n\t\t\t// If there are fragments in the current slide those should be\n\t\t\t// accounted for in the progress.\n\t\t\tif( allFragments.length > 0 ) {\n\t\t\t\tvar visibleFragments = currentSlide.querySelectorAll( '.fragment.visible' );\n\n\t\t\t\t// This value represents how big a portion of the slide progress\n\t\t\t\t// that is made up by its fragments (0-1)\n\t\t\t\tvar fragmentWeight = 0.9;\n\n\t\t\t\t// Add fragment progress to the past slide count\n\t\t\t\tpastCount += ( visibleFragments.length / allFragments.length ) * fragmentWeight;\n\t\t\t}\n\n\t\t}\n\n\t\treturn pastCount / ( totalCount - 1 );\n\n\t}\n\n\t/**\n\t * Checks if this presentation is running inside of the\n\t * speaker notes window.\n\t *\n\t * @return {boolean}\n\t */\n\tfunction isSpeakerNotes() {\n\n\t\treturn !!window.location.search.match( /receiver/gi );\n\n\t}\n\n\t/**\n\t * Reads the current URL (hash) and navigates accordingly.\n\t */\n\tfunction readURL() {\n\n\t\tvar hash = window.location.hash;\n\n\t\t// Attempt to parse the hash as either an index or name\n\t\tvar bits = hash.slice( 2 ).split( '/' ),\n\t\t\tname = hash.replace( /#|\\//gi, '' );\n\n\t\t// If the first bit is invalid and there is a name we can\n\t\t// assume that this is a named link\n\t\tif( isNaN( parseInt( bits[0], 10 ) ) && name.length ) {\n\t\t\tvar element;\n\n\t\t\t// Ensure the named link is a valid HTML ID attribute\n\t\t\tif( /^[a-zA-Z][\\w:.-]*$/.test( name ) ) {\n\t\t\t\t// Find the slide with the specified ID\n\t\t\t\telement = document.getElementById( name );\n\t\t\t}\n\n\t\t\tif( element ) {\n\t\t\t\t// Find the position of the named slide and navigate to it\n\t\t\t\tvar indices = Reveal.getIndices( element );\n\t\t\t\tslide( indices.h, indices.v );\n\t\t\t}\n\t\t\t// If the slide doesn't exist, navigate to the current slide\n\t\t\telse {\n\t\t\t\tslide( indexh || 0, indexv || 0 );\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\t// Read the index components of the hash\n\t\t\tvar h = parseInt( bits[0], 10 ) || 0,\n\t\t\t\tv = parseInt( bits[1], 10 ) || 0;\n\n\t\t\tif( h !== indexh || v !== indexv ) {\n\t\t\t\tslide( h, v );\n\t\t\t}\n\t\t}\n\n\t}\n\n\t/**\n\t * Updates the page URL (hash) to reflect the current\n\t * state.\n\t *\n\t * @param {number} delay The time in ms to wait before\n\t * writing the hash\n\t */\n\tfunction writeURL( delay ) {\n\n\t\tif( config.history ) {\n\n\t\t\t// Make sure there's never more than one timeout running\n\t\t\tclearTimeout( writeURLTimeout );\n\n\t\t\t// If a delay is specified, timeout this call\n\t\t\tif( typeof delay === 'number' ) {\n\t\t\t\twriteURLTimeout = setTimeout( writeURL, delay );\n\t\t\t}\n\t\t\telse if( currentSlide ) {\n\t\t\t\tvar url = '/';\n\n\t\t\t\t// Attempt to create a named link based on the slide's ID\n\t\t\t\tvar id = currentSlide.getAttribute( 'id' );\n\t\t\t\tif( id ) {\n\t\t\t\t\tid = id.replace( /[^a-zA-Z0-9\\-\\_\\:\\.]/g, '' );\n\t\t\t\t}\n\n\t\t\t\t// If the current slide has an ID, use that as a named link\n\t\t\t\tif( typeof id === 'string' && id.length ) {\n\t\t\t\t\turl = '/' + id;\n\t\t\t\t}\n\t\t\t\t// Otherwise use the /h/v index\n\t\t\t\telse {\n\t\t\t\t\tif( indexh > 0 || indexv > 0 ) url += indexh;\n\t\t\t\t\tif( indexv > 0 ) url += '/' + indexv;\n\t\t\t\t}\n\n\t\t\t\twindow.location.hash = url;\n\t\t\t}\n\t\t}\n\n\t}\n\t/**\n\t * Retrieves the h/v location and fragment of the current,\n\t * or specified, slide.\n\t *\n\t * @param {HTMLElement} [slide] If specified, the returned\n\t * index will be for this slide rather than the currently\n\t * active one\n\t *\n\t * @return {{h: number, v: number, f: number}}\n\t */\n\tfunction getIndices( slide ) {\n\n\t\t// By default, return the current indices\n\t\tvar h = indexh,\n\t\t\tv = indexv,\n\t\t\tf;\n\n\t\t// If a slide is specified, return the indices of that slide\n\t\tif( slide ) {\n\t\t\tvar isVertical = isVerticalSlide( slide );\n\t\t\tvar slideh = isVertical ? slide.parentNode : slide;\n\n\t\t\t// Select all horizontal slides\n\t\t\tvar horizontalSlides = toArray( dom.wrapper.querySelectorAll( HORIZONTAL_SLIDES_SELECTOR ) );\n\n\t\t\t// Now that we know which the horizontal slide is, get its index\n\t\t\th = Math.max( horizontalSlides.indexOf( slideh ), 0 );\n\n\t\t\t// Assume we're not vertical\n\t\t\tv = undefined;\n\n\t\t\t// If this is a vertical slide, grab the vertical index\n\t\t\tif( isVertical ) {\n\t\t\t\tv = Math.max( toArray( slide.parentNode.querySelectorAll( 'section' ) ).indexOf( slide ), 0 );\n\t\t\t}\n\t\t}\n\n\t\tif( !slide && currentSlide ) {\n\t\t\tvar hasFragments = currentSlide.querySelectorAll( '.fragment' ).length > 0;\n\t\t\tif( hasFragments ) {\n\t\t\t\tvar currentFragment = currentSlide.querySelector( '.current-fragment' );\n\t\t\t\tif( currentFragment && currentFragment.hasAttribute( 'data-fragment-index' ) ) {\n\t\t\t\t\tf = parseInt( currentFragment.getAttribute( 'data-fragment-index' ), 10 );\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tf = currentSlide.querySelectorAll( '.fragment.visible' ).length - 1;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn { h: h, v: v, f: f };\n\n\t}\n\n\t/**\n\t * Retrieves the total number of slides in this presentation.\n\t *\n\t * @return {number}\n\t */\n\tfunction getTotalSlides() {\n\n\t\treturn dom.wrapper.querySelectorAll( SLIDES_SELECTOR + ':not(.stack)' ).length;\n\n\t}\n\n\t/**\n\t * Returns the slide element matching the specified index.\n\t *\n\t * @return {HTMLElement}\n\t */\n\tfunction getSlide( x, y ) {\n\n\t\tvar horizontalSlide = dom.wrapper.querySelectorAll( HORIZONTAL_SLIDES_SELECTOR )[ x ];\n\t\tvar verticalSlides = horizontalSlide && horizontalSlide.querySelectorAll( 'section' );\n\n\t\tif( verticalSlides && verticalSlides.length && typeof y === 'number' ) {\n\t\t\treturn verticalSlides ? verticalSlides[ y ] : undefined;\n\t\t}\n\n\t\treturn horizontalSlide;\n\n\t}\n\n\t/**\n\t * Returns the background element for the given slide.\n\t * All slides, even the ones with no background properties\n\t * defined, have a background element so as long as the\n\t * index is valid an element will be returned.\n\t *\n\t * @param {number} x Horizontal background index\n\t * @param {number} y Vertical background index\n\t * @return {(HTMLElement[]|*)}\n\t */\n\tfunction getSlideBackground( x, y ) {\n\n\t\t// When printing to PDF the slide backgrounds are nested\n\t\t// inside of the slides\n\t\tif( isPrintingPDF() ) {\n\t\t\tvar slide = getSlide( x, y );\n\t\t\tif( slide ) {\n\t\t\t\treturn slide.slideBackgroundElement;\n\t\t\t}\n\n\t\t\treturn undefined;\n\t\t}\n\n\t\tvar horizontalBackground = dom.wrapper.querySelectorAll( '.backgrounds>.slide-background' )[ x ];\n\t\tvar verticalBackgrounds = horizontalBackground && horizontalBackground.querySelectorAll( '.slide-background' );\n\n\t\tif( verticalBackgrounds && verticalBackgrounds.length && typeof y === 'number' ) {\n\t\t\treturn verticalBackgrounds ? verticalBackgrounds[ y ] : undefined;\n\t\t}\n\n\t\treturn horizontalBackground;\n\n\t}\n\n\t/**\n\t * Retrieves the speaker notes from a slide. Notes can be\n\t * defined in two ways:\n\t * 1. As a data-notes attribute on the slide <section>\n\t * 2. As an <aside class=\"notes\"> inside of the slide\n\t *\n\t * @param {HTMLElement} [slide=currentSlide]\n\t * @return {(string|null)}\n\t */\n\tfunction getSlideNotes( slide ) {\n\n\t\t// Default to the current slide\n\t\tslide = slide || currentSlide;\n\n\t\t// Notes can be specified via the data-notes attribute...\n\t\tif( slide.hasAttribute( 'data-notes' ) ) {\n\t\t\treturn slide.getAttribute( 'data-notes' );\n\t\t}\n\n\t\t// ... or using an <aside class=\"notes\"> element\n\t\tvar notesElement = slide.querySelector( 'aside.notes' );\n\t\tif( notesElement ) {\n\t\t\treturn notesElement.innerHTML;\n\t\t}\n\n\t\treturn null;\n\n\t}\n\n\t/**\n\t * Retrieves the current state of the presentation as\n\t * an object. This state can then be restored at any\n\t * time.\n\t *\n\t * @return {{indexh: number, indexv: number, indexf: number, paused: boolean, overview: boolean}}\n\t */\n\tfunction getState() {\n\n\t\tvar indices = getIndices();\n\n\t\treturn {\n\t\t\tindexh: indices.h,\n\t\t\tindexv: indices.v,\n\t\t\tindexf: indices.f,\n\t\t\tpaused: isPaused(),\n\t\t\toverview: isOverview()\n\t\t};\n\n\t}\n\n\t/**\n\t * Restores the presentation to the given state.\n\t *\n\t * @param {object} state As generated by getState()\n\t * @see {@link getState} generates the parameter `state`\n\t */\n\tfunction setState( state ) {\n\n\t\tif( typeof state === 'object' ) {\n\t\t\tslide( deserialize( state.indexh ), deserialize( state.indexv ), deserialize( state.indexf ) );\n\n\t\t\tvar pausedFlag = deserialize( state.paused ),\n\t\t\t\toverviewFlag = deserialize( state.overview );\n\n\t\t\tif( typeof pausedFlag === 'boolean' && pausedFlag !== isPaused() ) {\n\t\t\t\ttogglePause( pausedFlag );\n\t\t\t}\n\n\t\t\tif( typeof overviewFlag === 'boolean' && overviewFlag !== isOverview() ) {\n\t\t\t\ttoggleOverview( overviewFlag );\n\t\t\t}\n\t\t}\n\n\t}\n\n\t/**\n\t * Return a sorted fragments list, ordered by an increasing\n\t * \"data-fragment-index\" attribute.\n\t *\n\t * Fragments will be revealed in the order that they are returned by\n\t * this function, so you can use the index attributes to control the\n\t * order of fragment appearance.\n\t *\n\t * To maintain a sensible default fragment order, fragments are presumed\n\t * to be passed in document order. This function adds a \"fragment-index\"\n\t * attribute to each node if such an attribute is not already present,\n\t * and sets that attribute to an integer value which is the position of\n\t * the fragment within the fragments list.\n\t *\n\t * @param {object[]|*} fragments\n\t * @return {object[]} sorted Sorted array of fragments\n\t */\n\tfunction sortFragments( fragments ) {\n\n\t\tfragments = toArray( fragments );\n\n\t\tvar ordered = [],\n\t\t\tunordered = [],\n\t\t\tsorted = [];\n\n\t\t// Group ordered and unordered elements\n\t\tfragments.forEach( function( fragment, i ) {\n\t\t\tif( fragment.hasAttribute( 'data-fragment-index' ) ) {\n\t\t\t\tvar index = parseInt( fragment.getAttribute( 'data-fragment-index' ), 10 );\n\n\t\t\t\tif( !ordered[index] ) {\n\t\t\t\t\tordered[index] = [];\n\t\t\t\t}\n\n\t\t\t\tordered[index].push( fragment );\n\t\t\t}\n\t\t\telse {\n\t\t\t\tunordered.push( [ fragment ] );\n\t\t\t}\n\t\t} );\n\n\t\t// Append fragments without explicit indices in their\n\t\t// DOM order\n\t\tordered = ordered.concat( unordered );\n\n\t\t// Manually count the index up per group to ensure there\n\t\t// are no gaps\n\t\tvar index = 0;\n\n\t\t// Push all fragments in their sorted order to an array,\n\t\t// this flattens the groups\n\t\tordered.forEach( function( group ) {\n\t\t\tgroup.forEach( function( fragment ) {\n\t\t\t\tsorted.push( fragment );\n\t\t\t\tfragment.setAttribute( 'data-fragment-index', index );\n\t\t\t} );\n\n\t\t\tindex ++;\n\t\t} );\n\n\t\treturn sorted;\n\n\t}\n\n\t/**\n\t * Navigate to the specified slide fragment.\n\t *\n\t * @param {?number} index The index of the fragment that\n\t * should be shown, -1 means all are invisible\n\t * @param {number} offset Integer offset to apply to the\n\t * fragment index\n\t *\n\t * @return {boolean} true if a change was made in any\n\t * fragments visibility as part of this call\n\t */\n\tfunction navigateFragment( index, offset ) {\n\n\t\tif( currentSlide && config.fragments ) {\n\n\t\t\tvar fragments = sortFragments( currentSlide.querySelectorAll( '.fragment' ) );\n\t\t\tif( fragments.length ) {\n\n\t\t\t\t// If no index is specified, find the current\n\t\t\t\tif( typeof index !== 'number' ) {\n\t\t\t\t\tvar lastVisibleFragment = sortFragments( currentSlide.querySelectorAll( '.fragment.visible' ) ).pop();\n\n\t\t\t\t\tif( lastVisibleFragment ) {\n\t\t\t\t\t\tindex = parseInt( lastVisibleFragment.getAttribute( 'data-fragment-index' ) || 0, 10 );\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tindex = -1;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// If an offset is specified, apply it to the index\n\t\t\t\tif( typeof offset === 'number' ) {\n\t\t\t\t\tindex += offset;\n\t\t\t\t}\n\n\t\t\t\tvar fragmentsShown = [],\n\t\t\t\t\tfragmentsHidden = [];\n\n\t\t\t\ttoArray( fragments ).forEach( function( element, i ) {\n\n\t\t\t\t\tif( element.hasAttribute( 'data-fragment-index' ) ) {\n\t\t\t\t\t\ti = parseInt( element.getAttribute( 'data-fragment-index' ), 10 );\n\t\t\t\t\t}\n\n\t\t\t\t\t// Visible fragments\n\t\t\t\t\tif( i <= index ) {\n\t\t\t\t\t\tif( !element.classList.contains( 'visible' ) ) fragmentsShown.push( element );\n\t\t\t\t\t\telement.classList.add( 'visible' );\n\t\t\t\t\t\telement.classList.remove( 'current-fragment' );\n\n\t\t\t\t\t\t// Announce the fragments one by one to the Screen Reader\n\t\t\t\t\t\tdom.statusDiv.textContent = getStatusText( element );\n\n\t\t\t\t\t\tif( i === index ) {\n\t\t\t\t\t\t\telement.classList.add( 'current-fragment' );\n\t\t\t\t\t\t\tstartEmbeddedContent( element );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t// Hidden fragments\n\t\t\t\t\telse {\n\t\t\t\t\t\tif( element.classList.contains( 'visible' ) ) fragmentsHidden.push( element );\n\t\t\t\t\t\telement.classList.remove( 'visible' );\n\t\t\t\t\t\telement.classList.remove( 'current-fragment' );\n\t\t\t\t\t}\n\n\t\t\t\t} );\n\n\t\t\t\tif( fragmentsHidden.length ) {\n\t\t\t\t\tdispatchEvent( 'fragmenthidden', { fragment: fragmentsHidden[0], fragments: fragmentsHidden } );\n\t\t\t\t}\n\n\t\t\t\tif( fragmentsShown.length ) {\n\t\t\t\t\tdispatchEvent( 'fragmentshown', { fragment: fragmentsShown[0], fragments: fragmentsShown } );\n\t\t\t\t}\n\n\t\t\t\tupdateControls();\n\t\t\t\tupdateProgress();\n\n\t\t\t\treturn !!( fragmentsShown.length || fragmentsHidden.length );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn false;\n\n\t}\n\n\t/**\n\t * Navigate to the next slide fragment.\n\t *\n\t * @return {boolean} true if there was a next fragment,\n\t * false otherwise\n\t */\n\tfunction nextFragment() {\n\n\t\treturn navigateFragment( null, 1 );\n\n\t}\n\n\t/**\n\t * Navigate to the previous slide fragment.\n\t *\n\t * @return {boolean} true if there was a previous fragment,\n\t * false otherwise\n\t */\n\tfunction previousFragment() {\n\n\t\treturn navigateFragment( null, -1 );\n\n\t}\n\n\t/**\n\t * Cues a new automated slide if enabled in the config.\n\t */\n\tfunction cueAutoSlide() {\n\n\t\tcancelAutoSlide();\n\n\t\tif( currentSlide ) {\n\n\t\t\tvar fragment = currentSlide.querySelector( '.current-fragment' );\n\n\t\t\t// When the slide first appears there is no \"current\" fragment so\n\t\t\t// we look for a data-autoslide timing on the first fragment\n\t\t\tif( !fragment ) fragment = currentSlide.querySelector( '.fragment' );\n\n\t\t\tvar fragmentAutoSlide = fragment ? fragment.getAttribute( 'data-autoslide' ) : null;\n\t\t\tvar parentAutoSlide = currentSlide.parentNode ? currentSlide.parentNode.getAttribute( 'data-autoslide' ) : null;\n\t\t\tvar slideAutoSlide = currentSlide.getAttribute( 'data-autoslide' );\n\n\t\t\t// Pick value in the following priority order:\n\t\t\t// 1. Current fragment's data-autoslide\n\t\t\t// 2. Current slide's data-autoslide\n\t\t\t// 3. Parent slide's data-autoslide\n\t\t\t// 4. Global autoSlide setting\n\t\t\tif( fragmentAutoSlide ) {\n\t\t\t\tautoSlide = parseInt( fragmentAutoSlide, 10 );\n\t\t\t}\n\t\t\telse if( slideAutoSlide ) {\n\t\t\t\tautoSlide = parseInt( slideAutoSlide, 10 );\n\t\t\t}\n\t\t\telse if( parentAutoSlide ) {\n\t\t\t\tautoSlide = parseInt( parentAutoSlide, 10 );\n\t\t\t}\n\t\t\telse {\n\t\t\t\tautoSlide = config.autoSlide;\n\t\t\t}\n\n\t\t\t// If there are media elements with data-autoplay,\n\t\t\t// automatically set the autoSlide duration to the\n\t\t\t// length of that media. Not applicable if the slide\n\t\t\t// is divided up into fragments. \n\t\t\t// playbackRate is accounted for in the duration.\n\t\t\tif( currentSlide.querySelectorAll( '.fragment' ).length === 0 ) {\n\t\t\t\ttoArray( currentSlide.querySelectorAll( 'video, audio' ) ).forEach( function( el ) {\n\t\t\t\t\tif( el.hasAttribute( 'data-autoplay' ) ) {\n\t\t\t\t\t\tif( autoSlide && (el.duration * 1000 / el.playbackRate ) > autoSlide ) {\n\t\t\t\t\t\t\tautoSlide = ( el.duration * 1000 / el.playbackRate ) + 1000;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\t// Cue the next auto-slide if:\n\t\t\t// - There is an autoSlide value\n\t\t\t// - Auto-sliding isn't paused by the user\n\t\t\t// - The presentation isn't paused\n\t\t\t// - The overview isn't active\n\t\t\t// - The presentation isn't over\n\t\t\tif( autoSlide && !autoSlidePaused && !isPaused() && !isOverview() && ( !Reveal.isLastSlide() || availableFragments().next || config.loop === true ) ) {\n\t\t\t\tautoSlideTimeout = setTimeout( function() {\n\t\t\t\t\ttypeof config.autoSlideMethod === 'function' ? config.autoSlideMethod() : navigateNext();\n\t\t\t\t\tcueAutoSlide();\n\t\t\t\t}, autoSlide );\n\t\t\t\tautoSlideStartTime = Date.now();\n\t\t\t}\n\n\t\t\tif( autoSlidePlayer ) {\n\t\t\t\tautoSlidePlayer.setPlaying( autoSlideTimeout !== -1 );\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Cancels any ongoing request to auto-slide.\n\t */\n\tfunction cancelAutoSlide() {\n\n\t\tclearTimeout( autoSlideTimeout );\n\t\tautoSlideTimeout = -1;\n\n\t}\n\n\tfunction pauseAutoSlide() {\n\n\t\tif( autoSlide && !autoSlidePaused ) {\n\t\t\tautoSlidePaused = true;\n\t\t\tdispatchEvent( 'autoslidepaused' );\n\t\t\tclearTimeout( autoSlideTimeout );\n\n\t\t\tif( autoSlidePlayer ) {\n\t\t\t\tautoSlidePlayer.setPlaying( false );\n\t\t\t}\n\t\t}\n\n\t}\n\n\tfunction resumeAutoSlide() {\n\n\t\tif( autoSlide && autoSlidePaused ) {\n\t\t\tautoSlidePaused = false;\n\t\t\tdispatchEvent( 'autoslideresumed' );\n\t\t\tcueAutoSlide();\n\t\t}\n\n\t}\n\n\tfunction navigateLeft() {\n\n\t\t// Reverse for RTL\n\t\tif( config.rtl ) {\n\t\t\tif( ( isOverview() || nextFragment() === false ) && availableRoutes().left ) {\n\t\t\t\tslide( indexh + 1 );\n\t\t\t}\n\t\t}\n\t\t// Normal navigation\n\t\telse if( ( isOverview() || previousFragment() === false ) && availableRoutes().left ) {\n\t\t\tslide( indexh - 1 );\n\t\t}\n\n\t}\n\n\tfunction navigateRight() {\n\n\t\t// Reverse for RTL\n\t\tif( config.rtl ) {\n\t\t\tif( ( isOverview() || previousFragment() === false ) && availableRoutes().right ) {\n\t\t\t\tslide( indexh - 1 );\n\t\t\t}\n\t\t}\n\t\t// Normal navigation\n\t\telse if( ( isOverview() || nextFragment() === false ) && availableRoutes().right ) {\n\t\t\tslide( indexh + 1 );\n\t\t}\n\n\t}\n\n\tfunction navigateUp() {\n\n\t\t// Prioritize hiding fragments\n\t\tif( ( isOverview() || previousFragment() === false ) && availableRoutes().up ) {\n\t\t\tslide( indexh, indexv - 1 );\n\t\t}\n\n\t}\n\n\tfunction navigateDown() {\n\n\t\t// Prioritize revealing fragments\n\t\tif( ( isOverview() || nextFragment() === false ) && availableRoutes().down ) {\n\t\t\tslide( indexh, indexv + 1 );\n\t\t}\n\n\t}\n\n\t/**\n\t * Navigates backwards, prioritized in the following order:\n\t * 1) Previous fragment\n\t * 2) Previous vertical slide\n\t * 3) Previous horizontal slide\n\t */\n\tfunction navigatePrev() {\n\n\t\t// Prioritize revealing fragments\n\t\tif( previousFragment() === false ) {\n\t\t\tif( availableRoutes().up ) {\n\t\t\t\tnavigateUp();\n\t\t\t}\n\t\t\telse {\n\t\t\t\t// Fetch the previous horizontal slide, if there is one\n\t\t\t\tvar previousSlide;\n\n\t\t\t\tif( config.rtl ) {\n\t\t\t\t\tpreviousSlide = toArray( dom.wrapper.querySelectorAll( HORIZONTAL_SLIDES_SELECTOR + '.future' ) ).pop();\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tpreviousSlide = toArray( dom.wrapper.querySelectorAll( HORIZONTAL_SLIDES_SELECTOR + '.past' ) ).pop();\n\t\t\t\t}\n\n\t\t\t\tif( previousSlide ) {\n\t\t\t\t\tvar v = ( previousSlide.querySelectorAll( 'section' ).length - 1 ) || undefined;\n\t\t\t\t\tvar h = indexh - 1;\n\t\t\t\t\tslide( h, v );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t}\n\n\t/**\n\t * The reverse of #navigatePrev().\n\t */\n\tfunction navigateNext() {\n\n\t\t// Prioritize revealing fragments\n\t\tif( nextFragment() === false ) {\n\t\t\tif( availableRoutes().down ) {\n\t\t\t\tnavigateDown();\n\t\t\t}\n\t\t\telse if( config.rtl ) {\n\t\t\t\tnavigateLeft();\n\t\t\t}\n\t\t\telse {\n\t\t\t\tnavigateRight();\n\t\t\t}\n\t\t}\n\n\t}\n\n\t/**\n\t * Checks if the target element prevents the triggering of\n\t * swipe navigation.\n\t */\n\tfunction isSwipePrevented( target ) {\n\n\t\twhile( target && typeof target.hasAttribute === 'function' ) {\n\t\t\tif( target.hasAttribute( 'data-prevent-swipe' ) ) return true;\n\t\t\ttarget = target.parentNode;\n\t\t}\n\n\t\treturn false;\n\n\t}\n\n\n\t// --------------------------------------------------------------------//\n\t// ----------------------------- EVENTS -------------------------------//\n\t// --------------------------------------------------------------------//\n\n\t/**\n\t * Called by all event handlers that are based on user\n\t * input.\n\t *\n\t * @param {object} [event]\n\t */\n\tfunction onUserInput( event ) {\n\n\t\tif( config.autoSlideStoppable ) {\n\t\t\tpauseAutoSlide();\n\t\t}\n\n\t}\n\n\t/**\n\t * Handler for the document level 'keypress' event.\n\t *\n\t * @param {object} event\n\t */\n\tfunction onDocumentKeyPress( event ) {\n\n\t\t// Check if the pressed key is question mark\n\t\tif( event.shiftKey && event.charCode === 63 ) {\n\t\t\tif( dom.overlay ) {\n\t\t\t\tcloseOverlay();\n\t\t\t}\n\t\t\telse {\n\t\t\t\tshowHelp( true );\n\t\t\t}\n\t\t}\n\n\t}\n\n\t/**\n\t * Handler for the document level 'keydown' event.\n\t *\n\t * @param {object} event\n\t */\n\tfunction onDocumentKeyDown( event ) {\n\n\t\t// If there's a condition specified and it returns false,\n\t\t// ignore this event\n\t\tif( typeof config.keyboardCondition === 'function' && config.keyboardCondition() === false ) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// Remember if auto-sliding was paused so we can toggle it\n\t\tvar autoSlideWasPaused = autoSlidePaused;\n\n\t\tonUserInput( event );\n\n\t\t// Check if there's a focused element that could be using\n\t\t// the keyboard\n\t\tvar activeElementIsCE = document.activeElement && document.activeElement.contentEditable !== 'inherit';\n\t\tvar activeElementIsInput = document.activeElement && document.activeElement.tagName && /input|textarea/i.test( document.activeElement.tagName );\n\t\tvar activeElementIsNotes = document.activeElement && document.activeElement.className && /speaker-notes/i.test( document.activeElement.className);\n\n\t\t// Disregard the event if there's a focused element or a\n\t\t// keyboard modifier key is present\n\t\tif( activeElementIsCE || activeElementIsInput || activeElementIsNotes || (event.shiftKey && event.keyCode !== 32) || event.altKey || event.ctrlKey || event.metaKey ) return;\n\n\t\t// While paused only allow resume keyboard events; 'b', 'v', '.'\n\t\tvar resumeKeyCodes = [66,86,190,191];\n\t\tvar key;\n\n\t\t// Custom key bindings for togglePause should be able to resume\n\t\tif( typeof config.keyboard === 'object' ) {\n\t\t\tfor( key in config.keyboard ) {\n\t\t\t\tif( config.keyboard[key] === 'togglePause' ) {\n\t\t\t\t\tresumeKeyCodes.push( parseInt( key, 10 ) );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif( isPaused() && resumeKeyCodes.indexOf( event.keyCode ) === -1 ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tvar triggered = false;\n\n\t\t// 1. User defined key bindings\n\t\tif( typeof config.keyboard === 'object' ) {\n\n\t\t\tfor( key in config.keyboard ) {\n\n\t\t\t\t// Check if this binding matches the pressed key\n\t\t\t\tif( parseInt( key, 10 ) === event.keyCode ) {\n\n\t\t\t\t\tvar value = config.keyboard[ key ];\n\n\t\t\t\t\t// Callback function\n\t\t\t\t\tif( typeof value === 'function' ) {\n\t\t\t\t\t\tvalue.apply( null, [ event ] );\n\t\t\t\t\t}\n\t\t\t\t\t// String shortcuts to reveal.js API\n\t\t\t\t\telse if( typeof value === 'string' && typeof Reveal[ value ] === 'function' ) {\n\t\t\t\t\t\tReveal[ value ].call();\n\t\t\t\t\t}\n\n\t\t\t\t\ttriggered = true;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// 2. System defined key bindings\n\t\tif( triggered === false ) {\n\n\t\t\t// Assume true and try to prove false\n\t\t\ttriggered = true;\n\n\t\t\tswitch( event.keyCode ) {\n\t\t\t\t// p, page up\n\t\t\t\tcase 80: case 33: navigatePrev(); break;\n\t\t\t\t// n, page down\n\t\t\t\tcase 78: case 34: navigateNext(); break;\n\t\t\t\t// h, left\n\t\t\t\tcase 72: case 37: navigateLeft(); break;\n\t\t\t\t// l, right\n\t\t\t\tcase 76: case 39: navigateRight(); break;\n\t\t\t\t// k, up\n\t\t\t\tcase 75: case 38: navigateUp(); break;\n\t\t\t\t// j, down\n\t\t\t\tcase 74: case 40: navigateDown(); break;\n\t\t\t\t// home\n\t\t\t\tcase 36: slide( 0 ); break;\n\t\t\t\t// end\n\t\t\t\tcase 35: slide( Number.MAX_VALUE ); break;\n\t\t\t\t// space\n\t\t\t\tcase 32: isOverview() ? deactivateOverview() : event.shiftKey ? navigatePrev() : navigateNext(); break;\n\t\t\t\t// return\n\t\t\t\tcase 13: isOverview() ? deactivateOverview() : triggered = false; break;\n\t\t\t\t// two-spot, semicolon, b, v, period, Logitech presenter tools \"black screen\" button\n\t\t\t\tcase 58: case 59: case 66: case 86: case 190: case 191: togglePause(); break;\n\t\t\t\t// f\n\t\t\t\tcase 70: enterFullscreen(); break;\n\t\t\t\t// a\n\t\t\t\tcase 65: if ( config.autoSlideStoppable ) toggleAutoSlide( autoSlideWasPaused ); break;\n\t\t\t\tdefault:\n\t\t\t\t\ttriggered = false;\n\t\t\t}\n\n\t\t}\n\n\t\t// If the input resulted in a triggered action we should prevent\n\t\t// the browsers default behavior\n\t\tif( triggered ) {\n\t\t\tevent.preventDefault && event.preventDefault();\n\t\t}\n\t\t// ESC or O key\n\t\telse if ( ( event.keyCode === 27 || event.keyCode === 79 ) && features.transforms3d ) {\n\t\t\tif( dom.overlay ) {\n\t\t\t\tcloseOverlay();\n\t\t\t}\n\t\t\telse {\n\t\t\t\ttoggleOverview();\n\t\t\t}\n\n\t\t\tevent.preventDefault && event.preventDefault();\n\t\t}\n\n\t\t// If auto-sliding is enabled we need to cue up\n\t\t// another timeout\n\t\tcueAutoSlide();\n\n\t}\n\n\t/**\n\t * Handler for the 'touchstart' event, enables support for\n\t * swipe and pinch gestures.\n\t *\n\t * @param {object} event\n\t */\n\tfunction onTouchStart( event ) {\n\n\t\tif( isSwipePrevented( event.target ) ) return true;\n\n\t\ttouch.startX = event.touches[0].clientX;\n\t\ttouch.startY = event.touches[0].clientY;\n\t\ttouch.startCount = event.touches.length;\n\n\t\t// If there's two touches we need to memorize the distance\n\t\t// between those two points to detect pinching\n\t\tif( event.touches.length === 2 && config.overview ) {\n\t\t\ttouch.startSpan = distanceBetween( {\n\t\t\t\tx: event.touches[1].clientX,\n\t\t\t\ty: event.touches[1].clientY\n\t\t\t}, {\n\t\t\t\tx: touch.startX,\n\t\t\t\ty: touch.startY\n\t\t\t} );\n\t\t}\n\n\t}\n\n\t/**\n\t * Handler for the 'touchmove' event.\n\t *\n\t * @param {object} event\n\t */\n\tfunction onTouchMove( event ) {\n\n\t\tif( isSwipePrevented( event.target ) ) return true;\n\n\t\t// Each touch should only trigger one action\n\t\tif( !touch.captured ) {\n\t\t\tonUserInput( event );\n\n\t\t\tvar currentX = event.touches[0].clientX;\n\t\t\tvar currentY = event.touches[0].clientY;\n\n\t\t\t// If the touch started with two points and still has\n\t\t\t// two active touches; test for the pinch gesture\n\t\t\tif( event.touches.length === 2 && touch.startCount === 2 && config.overview ) {\n\n\t\t\t\t// The current distance in pixels between the two touch points\n\t\t\t\tvar currentSpan = distanceBetween( {\n\t\t\t\t\tx: event.touches[1].clientX,\n\t\t\t\t\ty: event.touches[1].clientY\n\t\t\t\t}, {\n\t\t\t\t\tx: touch.startX,\n\t\t\t\t\ty: touch.startY\n\t\t\t\t} );\n\n\t\t\t\t// If the span is larger than the desire amount we've got\n\t\t\t\t// ourselves a pinch\n\t\t\t\tif( Math.abs( touch.startSpan - currentSpan ) > touch.threshold ) {\n\t\t\t\t\ttouch.captured = true;\n\n\t\t\t\t\tif( currentSpan < touch.startSpan ) {\n\t\t\t\t\t\tactivateOverview();\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tdeactivateOverview();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tevent.preventDefault();\n\n\t\t\t}\n\t\t\t// There was only one touch point, look for a swipe\n\t\t\telse if( event.touches.length === 1 && touch.startCount !== 2 ) {\n\n\t\t\t\tvar deltaX = currentX - touch.startX,\n\t\t\t\t\tdeltaY = currentY - touch.startY;\n\n\t\t\t\tif( deltaX > touch.threshold && Math.abs( deltaX ) > Math.abs( deltaY ) ) {\n\t\t\t\t\ttouch.captured = true;\n\t\t\t\t\tnavigateLeft();\n\t\t\t\t}\n\t\t\t\telse if( deltaX < -touch.threshold && Math.abs( deltaX ) > Math.abs( deltaY ) ) {\n\t\t\t\t\ttouch.captured = true;\n\t\t\t\t\tnavigateRight();\n\t\t\t\t}\n\t\t\t\telse if( deltaY > touch.threshold ) {\n\t\t\t\t\ttouch.captured = true;\n\t\t\t\t\tnavigateUp();\n\t\t\t\t}\n\t\t\t\telse if( deltaY < -touch.threshold ) {\n\t\t\t\t\ttouch.captured = true;\n\t\t\t\t\tnavigateDown();\n\t\t\t\t}\n\n\t\t\t\t// If we're embedded, only block touch events if they have\n\t\t\t\t// triggered an action\n\t\t\t\tif( config.embedded ) {\n\t\t\t\t\tif( touch.captured || isVerticalSlide( currentSlide ) ) {\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// Not embedded? Block them all to avoid needless tossing\n\t\t\t\t// around of the viewport in iOS\n\t\t\t\telse {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t}\n\n\t\t\t}\n\t\t}\n\t\t// There's a bug with swiping on some Android devices unless\n\t\t// the default action is always prevented\n\t\telse if( UA.match( /android/gi ) ) {\n\t\t\tevent.preventDefault();\n\t\t}\n\n\t}\n\n\t/**\n\t * Handler for the 'touchend' event.\n\t *\n\t * @param {object} event\n\t */\n\tfunction onTouchEnd( event ) {\n\n\t\ttouch.captured = false;\n\n\t}\n\n\t/**\n\t * Convert pointer down to touch start.\n\t *\n\t * @param {object} event\n\t */\n\tfunction onPointerDown( event ) {\n\n\t\tif( event.pointerType === event.MSPOINTER_TYPE_TOUCH || event.pointerType === \"touch\" ) {\n\t\t\tevent.touches = [{ clientX: event.clientX, clientY: event.clientY }];\n\t\t\tonTouchStart( event );\n\t\t}\n\n\t}\n\n\t/**\n\t * Convert pointer move to touch move.\n\t *\n\t * @param {object} event\n\t */\n\tfunction onPointerMove( event ) {\n\n\t\tif( event.pointerType === event.MSPOINTER_TYPE_TOUCH || event.pointerType === \"touch\" )  {\n\t\t\tevent.touches = [{ clientX: event.clientX, clientY: event.clientY }];\n\t\t\tonTouchMove( event );\n\t\t}\n\n\t}\n\n\t/**\n\t * Convert pointer up to touch end.\n\t *\n\t * @param {object} event\n\t */\n\tfunction onPointerUp( event ) {\n\n\t\tif( event.pointerType === event.MSPOINTER_TYPE_TOUCH || event.pointerType === \"touch\" )  {\n\t\t\tevent.touches = [{ clientX: event.clientX, clientY: event.clientY }];\n\t\t\tonTouchEnd( event );\n\t\t}\n\n\t}\n\n\t/**\n\t * Handles mouse wheel scrolling, throttled to avoid skipping\n\t * multiple slides.\n\t *\n\t * @param {object} event\n\t */\n\tfunction onDocumentMouseScroll( event ) {\n\n\t\tif( Date.now() - lastMouseWheelStep > 600 ) {\n\n\t\t\tlastMouseWheelStep = Date.now();\n\n\t\t\tvar delta = event.detail || -event.wheelDelta;\n\t\t\tif( delta > 0 ) {\n\t\t\t\tnavigateNext();\n\t\t\t}\n\t\t\telse if( delta < 0 ) {\n\t\t\t\tnavigatePrev();\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Clicking on the progress bar results in a navigation to the\n\t * closest approximate horizontal slide using this equation:\n\t *\n\t * ( clickX / presentationWidth ) * numberOfSlides\n\t *\n\t * @param {object} event\n\t */\n\tfunction onProgressClicked( event ) {\n\n\t\tonUserInput( event );\n\n\t\tevent.preventDefault();\n\n\t\tvar slidesTotal = toArray( dom.wrapper.querySelectorAll( HORIZONTAL_SLIDES_SELECTOR ) ).length;\n\t\tvar slideIndex = Math.floor( ( event.clientX / dom.wrapper.offsetWidth ) * slidesTotal );\n\n\t\tif( config.rtl ) {\n\t\t\tslideIndex = slidesTotal - slideIndex;\n\t\t}\n\n\t\tslide( slideIndex );\n\n\t}\n\n\t/**\n\t * Event handler for navigation control buttons.\n\t */\n\tfunction onNavigateLeftClicked( event ) { event.preventDefault(); onUserInput(); navigateLeft(); }\n\tfunction onNavigateRightClicked( event ) { event.preventDefault(); onUserInput(); navigateRight(); }\n\tfunction onNavigateUpClicked( event ) { event.preventDefault(); onUserInput(); navigateUp(); }\n\tfunction onNavigateDownClicked( event ) { event.preventDefault(); onUserInput(); navigateDown(); }\n\tfunction onNavigatePrevClicked( event ) { event.preventDefault(); onUserInput(); navigatePrev(); }\n\tfunction onNavigateNextClicked( event ) { event.preventDefault(); onUserInput(); navigateNext(); }\n\n\t/**\n\t * Handler for the window level 'hashchange' event.\n\t *\n\t * @param {object} [event]\n\t */\n\tfunction onWindowHashChange( event ) {\n\n\t\treadURL();\n\n\t}\n\n\t/**\n\t * Handler for the window level 'resize' event.\n\t *\n\t * @param {object} [event]\n\t */\n\tfunction onWindowResize( event ) {\n\n\t\tlayout();\n\n\t}\n\n\t/**\n\t * Handle for the window level 'visibilitychange' event.\n\t *\n\t * @param {object} [event]\n\t */\n\tfunction onPageVisibilityChange( event ) {\n\n\t\tvar isHidden =  document.webkitHidden ||\n\t\t\t\t\t\tdocument.msHidden ||\n\t\t\t\t\t\tdocument.hidden;\n\n\t\t// If, after clicking a link or similar and we're coming back,\n\t\t// focus the document.body to ensure we can use keyboard shortcuts\n\t\tif( isHidden === false && document.activeElement !== document.body ) {\n\t\t\t// Not all elements support .blur() - SVGs among them.\n\t\t\tif( typeof document.activeElement.blur === 'function' ) {\n\t\t\t\tdocument.activeElement.blur();\n\t\t\t}\n\t\t\tdocument.body.focus();\n\t\t}\n\n\t}\n\n\t/**\n\t * Invoked when a slide is and we're in the overview.\n\t *\n\t * @param {object} event\n\t */\n\tfunction onOverviewSlideClicked( event ) {\n\n\t\t// TODO There's a bug here where the event listeners are not\n\t\t// removed after deactivating the overview.\n\t\tif( eventsAreBound && isOverview() ) {\n\t\t\tevent.preventDefault();\n\n\t\t\tvar element = event.target;\n\n\t\t\twhile( element && !element.nodeName.match( /section/gi ) ) {\n\t\t\t\telement = element.parentNode;\n\t\t\t}\n\n\t\t\tif( element && !element.classList.contains( 'disabled' ) ) {\n\n\t\t\t\tdeactivateOverview();\n\n\t\t\t\tif( element.nodeName.match( /section/gi ) ) {\n\t\t\t\t\tvar h = parseInt( element.getAttribute( 'data-index-h' ), 10 ),\n\t\t\t\t\t\tv = parseInt( element.getAttribute( 'data-index-v' ), 10 );\n\n\t\t\t\t\tslide( h, v );\n\t\t\t\t}\n\n\t\t\t}\n\t\t}\n\n\t}\n\n\t/**\n\t * Handles clicks on links that are set to preview in the\n\t * iframe overlay.\n\t *\n\t * @param {object} event\n\t */\n\tfunction onPreviewLinkClicked( event ) {\n\n\t\tif( event.currentTarget && event.currentTarget.hasAttribute( 'href' ) ) {\n\t\t\tvar url = event.currentTarget.getAttribute( 'href' );\n\t\t\tif( url ) {\n\t\t\t\tshowPreview( url );\n\t\t\t\tevent.preventDefault();\n\t\t\t}\n\t\t}\n\n\t}\n\n\t/**\n\t * Handles click on the auto-sliding controls element.\n\t *\n\t * @param {object} [event]\n\t */\n\tfunction onAutoSlidePlayerClick( event ) {\n\n\t\t// Replay\n\t\tif( Reveal.isLastSlide() && config.loop === false ) {\n\t\t\tslide( 0, 0 );\n\t\t\tresumeAutoSlide();\n\t\t}\n\t\t// Resume\n\t\telse if( autoSlidePaused ) {\n\t\t\tresumeAutoSlide();\n\t\t}\n\t\t// Pause\n\t\telse {\n\t\t\tpauseAutoSlide();\n\t\t}\n\n\t}\n\n\n\t// --------------------------------------------------------------------//\n\t// ------------------------ PLAYBACK COMPONENT ------------------------//\n\t// --------------------------------------------------------------------//\n\n\n\t/**\n\t * Constructor for the playback component, which displays\n\t * play/pause/progress controls.\n\t *\n\t * @param {HTMLElement} container The component will append\n\t * itself to this\n\t * @param {function} progressCheck A method which will be\n\t * called frequently to get the current progress on a range\n\t * of 0-1\n\t */\n\tfunction Playback( container, progressCheck ) {\n\n\t\t// Cosmetics\n\t\tthis.diameter = 100;\n\t\tthis.diameter2 = this.diameter/2;\n\t\tthis.thickness = 6;\n\n\t\t// Flags if we are currently playing\n\t\tthis.playing = false;\n\n\t\t// Current progress on a 0-1 range\n\t\tthis.progress = 0;\n\n\t\t// Used to loop the animation smoothly\n\t\tthis.progressOffset = 1;\n\n\t\tthis.container = container;\n\t\tthis.progressCheck = progressCheck;\n\n\t\tthis.canvas = document.createElement( 'canvas' );\n\t\tthis.canvas.className = 'playback';\n\t\tthis.canvas.width = this.diameter;\n\t\tthis.canvas.height = this.diameter;\n\t\tthis.canvas.style.width = this.diameter2 + 'px';\n\t\tthis.canvas.style.height = this.diameter2 + 'px';\n\t\tthis.context = this.canvas.getContext( '2d' );\n\n\t\tthis.container.appendChild( this.canvas );\n\n\t\tthis.render();\n\n\t}\n\n\t/**\n\t * @param value\n\t */\n\tPlayback.prototype.setPlaying = function( value ) {\n\n\t\tvar wasPlaying = this.playing;\n\n\t\tthis.playing = value;\n\n\t\t// Start repainting if we weren't already\n\t\tif( !wasPlaying && this.playing ) {\n\t\t\tthis.animate();\n\t\t}\n\t\telse {\n\t\t\tthis.render();\n\t\t}\n\n\t};\n\n\tPlayback.prototype.animate = function() {\n\n\t\tvar progressBefore = this.progress;\n\n\t\tthis.progress = this.progressCheck();\n\n\t\t// When we loop, offset the progress so that it eases\n\t\t// smoothly rather than immediately resetting\n\t\tif( progressBefore > 0.8 && this.progress < 0.2 ) {\n\t\t\tthis.progressOffset = this.progress;\n\t\t}\n\n\t\tthis.render();\n\n\t\tif( this.playing ) {\n\t\t\tfeatures.requestAnimationFrameMethod.call( window, this.animate.bind( this ) );\n\t\t}\n\n\t};\n\n\t/**\n\t * Renders the current progress and playback state.\n\t */\n\tPlayback.prototype.render = function() {\n\n\t\tvar progress = this.playing ? this.progress : 0,\n\t\t\tradius = ( this.diameter2 ) - this.thickness,\n\t\t\tx = this.diameter2,\n\t\t\ty = this.diameter2,\n\t\t\ticonSize = 28;\n\n\t\t// Ease towards 1\n\t\tthis.progressOffset += ( 1 - this.progressOffset ) * 0.1;\n\n\t\tvar endAngle = ( - Math.PI / 2 ) + ( progress * ( Math.PI * 2 ) );\n\t\tvar startAngle = ( - Math.PI / 2 ) + ( this.progressOffset * ( Math.PI * 2 ) );\n\n\t\tthis.context.save();\n\t\tthis.context.clearRect( 0, 0, this.diameter, this.diameter );\n\n\t\t// Solid background color\n\t\tthis.context.beginPath();\n\t\tthis.context.arc( x, y, radius + 4, 0, Math.PI * 2, false );\n\t\tthis.context.fillStyle = 'rgba( 0, 0, 0, 0.4 )';\n\t\tthis.context.fill();\n\n\t\t// Draw progress track\n\t\tthis.context.beginPath();\n\t\tthis.context.arc( x, y, radius, 0, Math.PI * 2, false );\n\t\tthis.context.lineWidth = this.thickness;\n\t\tthis.context.strokeStyle = '#666';\n\t\tthis.context.stroke();\n\n\t\tif( this.playing ) {\n\t\t\t// Draw progress on top of track\n\t\t\tthis.context.beginPath();\n\t\t\tthis.context.arc( x, y, radius, startAngle, endAngle, false );\n\t\t\tthis.context.lineWidth = this.thickness;\n\t\t\tthis.context.strokeStyle = '#fff';\n\t\t\tthis.context.stroke();\n\t\t}\n\n\t\tthis.context.translate( x - ( iconSize / 2 ), y - ( iconSize / 2 ) );\n\n\t\t// Draw play/pause icons\n\t\tif( this.playing ) {\n\t\t\tthis.context.fillStyle = '#fff';\n\t\t\tthis.context.fillRect( 0, 0, iconSize / 2 - 4, iconSize );\n\t\t\tthis.context.fillRect( iconSize / 2 + 4, 0, iconSize / 2 - 4, iconSize );\n\t\t}\n\t\telse {\n\t\t\tthis.context.beginPath();\n\t\t\tthis.context.translate( 4, 0 );\n\t\t\tthis.context.moveTo( 0, 0 );\n\t\t\tthis.context.lineTo( iconSize - 4, iconSize / 2 );\n\t\t\tthis.context.lineTo( 0, iconSize );\n\t\t\tthis.context.fillStyle = '#fff';\n\t\t\tthis.context.fill();\n\t\t}\n\n\t\tthis.context.restore();\n\n\t};\n\n\tPlayback.prototype.on = function( type, listener ) {\n\t\tthis.canvas.addEventListener( type, listener, false );\n\t};\n\n\tPlayback.prototype.off = function( type, listener ) {\n\t\tthis.canvas.removeEventListener( type, listener, false );\n\t};\n\n\tPlayback.prototype.destroy = function() {\n\n\t\tthis.playing = false;\n\n\t\tif( this.canvas.parentNode ) {\n\t\t\tthis.container.removeChild( this.canvas );\n\t\t}\n\n\t};\n\n\n\t// --------------------------------------------------------------------//\n\t// ------------------------------- API --------------------------------//\n\t// --------------------------------------------------------------------//\n\n\n\tReveal = {\n\t\tVERSION: VERSION,\n\n\t\tinitialize: initialize,\n\t\tconfigure: configure,\n\t\tsync: sync,\n\n\t\t// Navigation methods\n\t\tslide: slide,\n\t\tleft: navigateLeft,\n\t\tright: navigateRight,\n\t\tup: navigateUp,\n\t\tdown: navigateDown,\n\t\tprev: navigatePrev,\n\t\tnext: navigateNext,\n\n\t\t// Fragment methods\n\t\tnavigateFragment: navigateFragment,\n\t\tprevFragment: previousFragment,\n\t\tnextFragment: nextFragment,\n\n\t\t// Deprecated aliases\n\t\tnavigateTo: slide,\n\t\tnavigateLeft: navigateLeft,\n\t\tnavigateRight: navigateRight,\n\t\tnavigateUp: navigateUp,\n\t\tnavigateDown: navigateDown,\n\t\tnavigatePrev: navigatePrev,\n\t\tnavigateNext: navigateNext,\n\n\t\t// Shows a help overlay with keyboard shortcuts\n\t\tshowHelp: showHelp,\n\n\t\t// Forces an update in slide layout\n\t\tlayout: layout,\n\n\t\t// Randomizes the order of slides\n\t\tshuffle: shuffle,\n\n\t\t// Returns an object with the available routes as booleans (left/right/top/bottom)\n\t\tavailableRoutes: availableRoutes,\n\n\t\t// Returns an object with the available fragments as booleans (prev/next)\n\t\tavailableFragments: availableFragments,\n\n\t\t// Toggles the overview mode on/off\n\t\ttoggleOverview: toggleOverview,\n\n\t\t// Toggles the \"black screen\" mode on/off\n\t\ttogglePause: togglePause,\n\n\t\t// Toggles the auto slide mode on/off\n\t\ttoggleAutoSlide: toggleAutoSlide,\n\n\t\t// State checks\n\t\tisOverview: isOverview,\n\t\tisPaused: isPaused,\n\t\tisAutoSliding: isAutoSliding,\n\n\t\t// Adds or removes all internal event listeners (such as keyboard)\n\t\taddEventListeners: addEventListeners,\n\t\tremoveEventListeners: removeEventListeners,\n\n\t\t// Facility for persisting and restoring the presentation state\n\t\tgetState: getState,\n\t\tsetState: setState,\n\n\t\t// Presentation progress on range of 0-1\n\t\tgetProgress: getProgress,\n\n\t\t// Returns the indices of the current, or specified, slide\n\t\tgetIndices: getIndices,\n\n\t\tgetTotalSlides: getTotalSlides,\n\n\t\t// Returns the slide element at the specified index\n\t\tgetSlide: getSlide,\n\n\t\t// Returns the slide background element at the specified index\n\t\tgetSlideBackground: getSlideBackground,\n\n\t\t// Returns the speaker notes string for a slide, or null\n\t\tgetSlideNotes: getSlideNotes,\n\n\t\t// Returns the previous slide element, may be null\n\t\tgetPreviousSlide: function() {\n\t\t\treturn previousSlide;\n\t\t},\n\n\t\t// Returns the current slide element\n\t\tgetCurrentSlide: function() {\n\t\t\treturn currentSlide;\n\t\t},\n\n\t\t// Returns the current scale of the presentation content\n\t\tgetScale: function() {\n\t\t\treturn scale;\n\t\t},\n\n\t\t// Returns the current configuration object\n\t\tgetConfig: function() {\n\t\t\treturn config;\n\t\t},\n\n\t\t// Helper method, retrieves query string as a key/value hash\n\t\tgetQueryHash: function() {\n\t\t\tvar query = {};\n\n\t\t\tlocation.search.replace( /[A-Z0-9]+?=([\\w\\.%-]*)/gi, function(a) {\n\t\t\t\tquery[ a.split( '=' ).shift() ] = a.split( '=' ).pop();\n\t\t\t} );\n\n\t\t\t// Basic deserialization\n\t\t\tfor( var i in query ) {\n\t\t\t\tvar value = query[ i ];\n\n\t\t\t\tquery[ i ] = deserialize( unescape( value ) );\n\t\t\t}\n\n\t\t\treturn query;\n\t\t},\n\n\t\t// Returns true if we're currently on the first slide\n\t\tisFirstSlide: function() {\n\t\t\treturn ( indexh === 0 && indexv === 0 );\n\t\t},\n\n\t\t// Returns true if we're currently on the last slide\n\t\tisLastSlide: function() {\n\t\t\tif( currentSlide ) {\n\t\t\t\t// Does this slide has next a sibling?\n\t\t\t\tif( currentSlide.nextElementSibling ) return false;\n\n\t\t\t\t// If it's vertical, does its parent have a next sibling?\n\t\t\t\tif( isVerticalSlide( currentSlide ) && currentSlide.parentNode.nextElementSibling ) return false;\n\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\treturn false;\n\t\t},\n\n\t\t// Checks if reveal.js has been loaded and is ready for use\n\t\tisReady: function() {\n\t\t\treturn loaded;\n\t\t},\n\n\t\t// Forward event binding to the reveal DOM element\n\t\taddEventListener: function( type, listener, useCapture ) {\n\t\t\tif( 'addEventListener' in window ) {\n\t\t\t\t( dom.wrapper || document.querySelector( '.reveal' ) ).addEventListener( type, listener, useCapture );\n\t\t\t}\n\t\t},\n\t\tremoveEventListener: function( type, listener, useCapture ) {\n\t\t\tif( 'addEventListener' in window ) {\n\t\t\t\t( dom.wrapper || document.querySelector( '.reveal' ) ).removeEventListener( type, listener, useCapture );\n\t\t\t}\n\t\t},\n\n\t\t// Programatically triggers a keyboard event\n\t\ttriggerKey: function( keyCode ) {\n\t\t\tonDocumentKeyDown( { keyCode: keyCode } );\n\t\t},\n\n\t\t// Registers a new shortcut to include in the help overlay\n\t\tregisterKeyboardShortcut: function( key, value ) {\n\t\t\tkeyboardShortcuts[key] = value;\n\t\t}\n\t};\n\n\treturn Reveal;\n\n}));\n\n\n\n// WEBPACK FOOTER //\n// ./~/reveal.js/js/reveal.js","var pug = require(\"!../node_modules/pug-runtime/index.js\");\n\nfunction template(locals) {var pug_html = \"\", pug_mixins = {}, pug_interp;;var locals_for_with = (locals || {});(function (revealLocation) {var Reveal = require('reveal.js')\npug_html = pug_html + \"\\u003Cscript\" + (\" type=\\\"text\\u002Fjavascript\\\"\"+pug.attr(\"src\", revealLocation + 'lib/js/head.min.js', true, true)) + \"\\u003E\\u003C\\u002Fscript\\u003E\\u003Cscript\\u003E\\u002F\\u002F Full list of configuration options available here:\\n\\u002F\\u002F https:\\u002F\\u002Fgithub.com\\u002Fhakimel\\u002Freveal.js#configuration\\n Reveal.initialize({\\n  controls: true,\\n  progress: true,\\n  history: true,\\n  center: true,\\n  theme: 'moon',\\n  slideNumber: true,\\n  transition: 'concave',\\n  \\u002F\\u002F Parallax scrolling\\n  \\u002F\\u002F parallaxBackgroundImage: 'https:\\u002F\\u002Fs3.amazonaws.com\\u002Fhakim-static\\u002Freveal-js\\u002Freveal-parallax-1.jpg',\\n  \\u002F\\u002F parallaxBackgroundSize: '2100px 900px',\\n  \\u002F\\u002F Optional libraries used to extend on reveal.js\\n });\\u003C\\u002Fscript\\u003E\";}.call(this,\"revealLocation\" in locals_for_with?locals_for_with.revealLocation:typeof revealLocation!==\"undefined\"?revealLocation:undefined));;return pug_html;};\nmodule.exports = template;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./shared/footer.pug\n// module id = 3\n// module chunks = 0","/* (ignored) */\n\n\n//////////////////\n// WEBPACK FOOTER\n// fs (ignored)\n// module id = 4\n// module chunks = 0","import template from \"./index.pug\"\n\n\n\n// WEBPACK FOOTER //\n// ./index.js"],"sourceRoot":""}